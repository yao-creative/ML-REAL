in mathematics, doob's martingale inequality, also known as kolmogorov’s submartingale inequality is a result in the study of stochastic processes. it gives a bound on the probability that a stochastic process exceeds any given value over a given interval of time. as the name suggests, the result is usually given in the case that the process is a martingale, but the result is also valid for submartingales.
the inequality is due to the american mathematician joseph l. doob.


== statement of the inequality ==
let x be a submartingale taking real values, either in discrete or continuous time. that is, for all times s and t with s < t,

  
    
      
        
          x
          
            s
          
        
        ≤
        e
        ⁡
        [
        
          x
          
            t
          
        
        ∣
        
          
            
              f
            
          
          
            s
          
        
        ]
        .
      
    
    {\displaystyle x_{s}\leq \operatorname {e} [x_{t}\mid {\mathcal {f}}_{s}].}
  (for a continuous-time submartingale, assume further that the process is càdlàg.) then, for any constant c > 0,

  
    
      
        p
        
          [
          
            
              sup
              
                0
                ≤
                t
                ≤
                t
              
            
            
              x
              
                t
              
            
            ≥
            c
          
          ]
        
        ≤
        
          
            
              e
              ⁡
              [
              
                
                  max
                
              
              (
              
                x
                
                  t
                
              
              ,
              0
              )
              ]
            
            c
          
        
        .
      
    
    {\displaystyle p\left[\sup _{0\leq t\leq t}x_{t}\geq c\right]\leq {\frac {\operatorname {e} [{\textrm {max}}(x_{t},0)]}{c}}.}
  in the above, as is conventional, p denotes a probability measure on the sample space ω of the stochastic process

  
    
      
        x
        :
        [
        0
        ,
        t
        ]
        ×
        ω
        →
        [
        0
        ,
        +
        ∞
        )
      
    
    {\displaystyle x:[0,t]\times \omega \to [0,+\infty )}
  and 
  
    
      
        e
        ⁡
        [
        x
        ]
      
    
    {\displaystyle \operatorname {e} [x]}
   denotes the expected value with respect to the probability measure p, i.e. the integral

  
    
      
        e
        ⁡
        [
        
          x
          
            t
          
        
        ]
        =
        
          ∫
          
            ω
          
        
        
          x
          
            t
          
        
        (
        ω
        )
        
        
          d
        
        p
        (
        ω
        )
      
    
    {\displaystyle \operatorname {e} [x_{t}]=\int _{\omega }x_{t}(\omega )\,\mathrm {d} p(\omega )}
  in the sense of lebesgue integration. 
  
    
      
        
          
            
              f
            
          
          
            s
          
        
      
    
    {\displaystyle {\mathcal {f}}_{s}}
   denotes the σ-algebra generated by all the random variables xi with i ≤ s; the collection of such σ-algebras forms a filtration of the probability space.


== further inequalities ==
there are further submartingale inequalities also due to doob. with the same assumptions on x as above, let

  
    
      
        
          s
          
            t
          
        
        =
        
          sup
          
            0
            ≤
            s
            ≤
            t
          
        
        
          x
          
            s
          
        
        ,
      
    
    {\displaystyle s_{t}=\sup _{0\leq s\leq t}x_{s},}
  and for p ≥ 1 let

  
    
      
        ‖
        
          x
          
            t
          
        
        
          ‖
          
            p
          
        
        =
        ‖
        
          x
          
            t
          
        
        
          ‖
          
            
              l
              
                p
              
            
            (
            ω
            ,
            
              
                f
              
            
            ,
            p
            )
          
        
        =
        
          
            (
            
              e
              ⁡
              [
              
                |
              
              
                x
                
                  t
                
              
              
                
                  |
                
                
                  p
                
              
              ]
            
            )
          
          
            1
            
              /
            
            p
          
        
        .
      
    
    {\displaystyle \|x_{t}\|_{p}=\|x_{t}\|_{l^{p}(\omega ,{\mathcal {f}},p)}=\left(\operatorname {e} [|x_{t}|^{p}]\right)^{1/p}.}
  in this notation, doob's inequality as stated above reads

  
    
      
        p
        [
        
          s
          
            t
          
        
        ≥
        c
        ]
        ≤
        
          
            
              ‖
              
                x
                
                  t
                
              
              
                ‖
                
                  1
                
              
            
            c
          
        
        .
      
    
    {\displaystyle p[s_{t}\geq c]\leq {\frac {\|x_{t}\|_{1}}{c}}.}
  the following inequalities also hold : 

  
    
      
        ‖
        
          s
          
            t
          
        
        
          ‖
          
            1
          
        
        ≤
        
          
            e
            
              e
              −
              1
            
          
        
        
          (
          
            1
            +
            ‖
            
              x
              
                t
              
            
            
              log
              
                +
              
            
            ⁡
            
              x
              
                t
              
            
            
              ‖
              
                1
              
            
          
          )
        
      
    
    {\displaystyle \|s_{t}\|_{1}\leq {\frac {e}{e-1}}\left(1+\|x_{t}\log ^{+}x_{t}\|_{1}\right)}
  and, for p > 1,

  
    
      
        ‖
        
          x
          
            t
          
        
        
          ‖
          
            p
          
        
        ≤
        ‖
        
          s
          
            t
          
        
        
          ‖
          
            p
          
        
        ≤
        
          
            p
            
              p
              −
              1
            
          
        
        ‖
        
          x
          
            t
          
        
        
          ‖
          
            p
          
        
        .
      
    
    {\displaystyle \|x_{t}\|_{p}\leq \|s_{t}\|_{p}\leq {\frac {p}{p-1}}\|x_{t}\|_{p}.}
  the last of these is sometimes known as doob's maximal inequality.


== related inequalities ==
doob's inequality for discrete-time martingales implies kolmogorov's inequality: if x1, x2, ... is a sequence of real-valued independent random variables, each with mean zero, it is clear that

  
    
      
        
          
            
              
                e
                ⁡
                
                  [
                  
                    
                      x
                      
                        1
                      
                    
                    +
                    ⋯
                    +
                    
                      x
                      
                        n
                      
                    
                    +
                    
                      x
                      
                        n
                        +
                        1
                      
                    
                    ∣
                    
                      x
                      
                        1
                      
                    
                    ,
                    …
                    ,
                    
                      x
                      
                        n
                      
                    
                  
                  ]
                
              
              
                
                =
                
                  x
                  
                    1
                  
                
                +
                ⋯
                +
                
                  x
                  
                    n
                  
                
                +
                e
                ⁡
                
                  [
                  
                    
                      x
                      
                        n
                        +
                        1
                      
                    
                    ∣
                    
                      x
                      
                        1
                      
                    
                    ,
                    …
                    ,
                    
                      x
                      
                        n
                      
                    
                  
                  ]
                
              
            
            
              
              
                
                =
                
                  x
                  
                    1
                  
                
                +
                ⋯
                +
                
                  x
                  
                    n
                  
                
                ,
              
            
          
        
      
    
    {\displaystyle {\begin{aligned}\operatorname {e} \left[x_{1}+\cdots +x_{n}+x_{n+1}\mid x_{1},\ldots ,x_{n}\right]&=x_{1}+\cdots +x_{n}+\operatorname {e} \left[x_{n+1}\mid x_{1},\ldots ,x_{n}\right]\\&=x_{1}+\cdots +x_{n},\end{aligned}}}
  so sn = x1 + ... + xn is a martingale. note that jensen's inequality implies that |sn| is a nonnegative submartingale if sn is a martingale. hence, taking p = 2 in doob's martingale inequality,

  
    
      
        p
        
          [
          
            
              max
              
                1
                ≤
                i
                ≤
                n
              
            
            
              |
              
                s
                
                  i
                
              
              |
            
            ≥
            λ
          
          ]
        
        ≤
        
          
            
              e
              ⁡
              
                [
                
                  s
                  
                    n
                  
                  
                    2
                  
                
                ]
              
            
            
              λ
              
                2
              
            
          
        
        ,
      
    
    {\displaystyle p\left[\max _{1\leq i\leq n}\left|s_{i}\right|\geq \lambda \right]\leq {\frac {\operatorname {e} \left[s_{n}^{2}\right]}{\lambda ^{2}}},}
  which is precisely the statement of kolmogorov's inequality.


== application: brownian motion ==
let b denote canonical one-dimensional brownian motion. then

  
    
      
        p
        
          [
          
            
              sup
              
                0
                ≤
                t
                ≤
                t
              
            
            
              b
              
                t
              
            
            ≥
            c
          
          ]
        
        ≤
        exp
        ⁡
        
          (
          
            −
            
              
                
                  c
                  
                    2
                  
                
                
                  2
                  t
                
              
            
          
          )
        
        .
      
    
    {\displaystyle p\left[\sup _{0\leq t\leq t}b_{t}\geq c\right]\leq \exp \left(-{\frac {c^{2}}{2t}}\right).}
  the proof is just as follows: since the exponential function is monotonically increasing, for any non-negative λ,

  
    
      
        
          {
          
            
              sup
              
                0
                ≤
                t
                ≤
                t
              
            
            
              b
              
                t
              
            
            ≥
            c
          
          }
        
        =
        
          {
          
            
              sup
              
                0
                ≤
                t
                ≤
                t
              
            
            exp
            ⁡
            (
            λ
            
              b
              
                t
              
            
            )
            ≥
            exp
            ⁡
            (
            λ
            c
            )
          
          }
        
        .
      
    
    {\displaystyle \left\{\sup _{0\leq t\leq t}b_{t}\geq c\right\}=\left\{\sup _{0\leq t\leq t}\exp(\lambda b_{t})\geq \exp(\lambda c)\right\}.}
  by doob's inequality, and since the exponential of brownian motion is a positive submartingale,

  
    
      
        
          
            
              
                p
                
                  [
                  
                    
                      sup
                      
                        0
                        ≤
                        t
                        ≤
                        t
                      
                    
                    
                      b
                      
                        t
                      
                    
                    ≥
                    c
                  
                  ]
                
              
              
                
                =
                p
                
                  [
                  
                    
                      sup
                      
                        0
                        ≤
                        t
                        ≤
                        t
                      
                    
                    exp
                    ⁡
                    (
                    λ
                    
                      b
                      
                        t
                      
                    
                    )
                    ≥
                    exp
                    ⁡
                    (
                    λ
                    c
                    )
                  
                  ]
                
              
            
            
              
              
                
                ≤
                
                  
                    
                      e
                      ⁡
                      [
                      exp
                      ⁡
                      (
                      λ
                      
                        b
                        
                          t
                        
                      
                      )
                      ]
                    
                    
                      exp
                      ⁡
                      (
                      λ
                      c
                      )
                    
                  
                
              
            
            
              
              
                
                =
                exp
                ⁡
                
                  (
                  
                    
                      
                        
                          1
                          2
                        
                      
                    
                    
                      λ
                      
                        2
                      
                    
                    t
                    −
                    λ
                    c
                  
                  )
                
              
              
              
                e
                ⁡
                
                  [
                  
                    exp
                    ⁡
                    (
                    λ
                    
                      b
                      
                        t
                      
                    
                    )
                  
                  ]
                
                =
                exp
                ⁡
                
                  (
                  
                    
                      
                        
                          1
                          2
                        
                      
                    
                    
                      λ
                      
                        2
                      
                    
                    t
                  
                  )
                
              
            
          
        
      
    
    {\displaystyle {\begin{aligned}p\left[\sup _{0\leq t\leq t}b_{t}\geq c\right]&=p\left[\sup _{0\leq t\leq t}\exp(\lambda b_{t})\geq \exp(\lambda c)\right]\\[8pt]&\leq {\frac {\operatorname {e} [\exp(\lambda b_{t})]}{\exp(\lambda c)}}\\[8pt]&=\exp \left({\tfrac {1}{2}}\lambda ^{2}t-\lambda c\right)&&\operatorname {e} \left[\exp(\lambda b_{t})\right]=\exp \left({\tfrac {1}{2}}\lambda ^{2}t\right)\end{aligned}}}
  since the left-hand side does not depend on λ, choose λ to minimize the right-hand side: λ = c/t gives the desired inequality.


== references ==
revuz, daniel; yor, marc (1999). continuous martingales and brownian motion (third ed.). berlin: springer. isbn 3-540-64325-7. (theorem ii.1.7)
shiryaev, albert n. (2001) [1994], "martingale", encyclopedia of mathematics, ems press