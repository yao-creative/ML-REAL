in mathematical analysis, the haar measure assigns an "invariant volume" to subsets of locally compact topological groups, consequently defining an integral for functions on those groups.
this measure was introduced by alfréd haar in 1933, though its special case for lie groups had been introduced by adolf hurwitz in 1897 under the name "invariant integral". haar measures are used in many parts of analysis, number theory, group theory, representation theory, statistics, probability theory, and ergodic theory.


== preliminaries ==
let 
  
    
      
        (
        g
        ,
        ⋅
        )
      
    
    {\displaystyle (g,\cdot )}
   be a locally compact hausdorff topological group.  the  
  
    
      
        σ
      
    
    {\displaystyle \sigma }
  -algebra generated by all open subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
   is called the borel algebra. an element of the borel algebra is called a borel set.  if 
  
    
      
        g
      
    
    {\displaystyle g}
   is an element of 
  
    
      
        g
      
    
    {\displaystyle g}
   and 
  
    
      
        s
      
    
    {\displaystyle s}
   is a subset of 
  
    
      
        g
      
    
    {\displaystyle g}
  , then we define the left and right translates of 
  
    
      
        s
      
    
    {\displaystyle s}
   by g as follows:

left translate: 
right translate: left and right translates map borel sets onto borel sets.
a measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   on the borel subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
   is called left-translation-invariant if for all borel subsets 
  
    
      
        s
        ⊆
        g
      
    
    {\displaystyle s\subseteq g}
   and all 
  
    
      
        g
        ∈
        g
      
    
    {\displaystyle g\in g}
   one has

  
    
      
        μ
        (
        g
        s
        )
        =
        μ
        (
        s
        )
        .
      
    
    {\displaystyle \mu (gs)=\mu (s).}
  a measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   on the borel subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
   is called right-translation-invariant if for all borel subsets 
  
    
      
        s
        ⊆
        g
      
    
    {\displaystyle s\subseteq g}
   and all 
  
    
      
        g
        ∈
        g
      
    
    {\displaystyle g\in g}
   one has

  
    
      
        μ
        (
        s
        g
        )
        =
        μ
        (
        s
        )
        .
      
    
    {\displaystyle \mu (sg)=\mu (s).}
  


== haar's theorem ==
there is, up to a positive multiplicative constant, a unique countably additive, nontrivial measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   on the borel subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
   satisfying the following properties:

the measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is left-translation-invariant: 
  
    
      
        μ
        (
        g
        s
        )
        =
        μ
        (
        s
        )
      
    
    {\displaystyle \mu (gs)=\mu (s)}
   for every 
  
    
      
        g
        ∈
        g
      
    
    {\displaystyle g\in g}
   and all borel sets 
  
    
      
        s
        ⊆
        g
      
    
    {\displaystyle s\subseteq g}
  .
the measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is finite on every compact set: 
  
    
      
        μ
        (
        k
        )
        <
        ∞
      
    
    {\displaystyle \mu (k)<\infty }
   for all compact 
  
    
      
        k
        ⊆
        g
      
    
    {\displaystyle k\subseteq g}
  .
the measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is  outer regular on borel sets 
  
    
      
        s
        ⊆
        g
      
    
    {\displaystyle s\subseteq g}
  : 
the measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is inner regular on open sets 
  
    
      
        u
        ⊆
        g
      
    
    {\displaystyle u\subseteq g}
  : such a measure on 
  
    
      
        g
      
    
    {\displaystyle g}
   is called a left haar measure.  it can be shown as a consequence of the above properties that 
  
    
      
        μ
        (
        u
        )
        >
        0
      
    
    {\displaystyle \mu (u)>0}
   for every non-empty open subset 
  
    
      
        u
        ⊆
        g
      
    
    {\displaystyle u\subseteq g}
  . in particular, if 
  
    
      
        g
      
    
    {\displaystyle g}
   is compact then 
  
    
      
        μ
        (
        g
        )
      
    
    {\displaystyle \mu (g)}
   is finite and positive, so we can uniquely specify a left haar measure on 
  
    
      
        g
      
    
    {\displaystyle g}
   by adding the normalization condition 
  
    
      
        μ
        (
        g
        )
        =
        1
      
    
    {\displaystyle \mu (g)=1}
  .
in complete analogy, one can also prove the existence and uniqueness of a right haar measure on 
  
    
      
        g
      
    
    {\displaystyle g}
  . the two measures need not coincide.
some authors define a haar measure on baire sets rather than borel sets. this makes the regularity conditions unnecessary as baire measures are automatically regular. halmos rather confusingly uses the term "borel set" for elements of the 
  
    
      
        σ
      
    
    {\displaystyle \sigma }
  -ring generated by compact sets, and defines haar measures on these sets.
the left haar measure satisfies the inner regularity condition for all 
  
    
      
        σ
      
    
    {\displaystyle \sigma }
  -finite borel sets, but may not be inner regular for all borel sets. for example, the product of the unit circle (with its usual topology) and the real line with the discrete topology is a locally compact group with the product topology and a haar measure on this group is not inner regular for the closed subset 
  
    
      
        {
        1
        }
        ×
        [
        0
        ,
        1
        ]
      
    
    {\displaystyle \{1\}\times [0,1]}
  . (compact subsets of this vertical segment are finite sets and points have measure 
  
    
      
        0
      
    
    {\displaystyle 0}
  , so the measure of any compact subset of this vertical segment is 
  
    
      
        0
      
    
    {\displaystyle 0}
  . but, using outer regularity, one can show the segment has infinite measure.)
the existence and uniqueness (up to scaling) of a left haar measure was first proven in full generality by andré weil. weil's proof used the axiom of choice and henri cartan furnished a proof that avoided its use. cartan's proof also establishes the existence and the uniqueness simultaneously. a simplified and complete account of cartan's argument was given by alfsen in 1963. the special case of invariant measure for second-countable locally compact groups had been shown by haar in 1933.


== examples ==
if 
  
    
      
        g
      
    
    {\displaystyle g}
   is a discrete group, then the compact subsets coincide with the finite subsets, and a (left and right invariant) haar measure on 
  
    
      
        g
      
    
    {\displaystyle g}
   is the counting measure.

the haar measure on the topological group 
  
    
      
        (
        
          r
        
        ,
        +
        )
      
    
    {\displaystyle (\mathbb {r} ,+)}
   which takes the value 
  
    
      
        1
      
    
    {\displaystyle 1}
   on the interval 
  
    
      
        [
        0
        ,
        1
        ]
      
    
    {\displaystyle [0,1]}
   is equal to the restriction of lebesgue measure to the borel subsets of 
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
  . this can be generalized to 
  
    
      
        (
        
          
            r
          
          
            n
          
        
        ,
        +
        )
        .
      
    
    {\displaystyle (\mathbb {r} ^{n},+).}
  

in order to define a haar measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   on the circle group 
  
    
      
        
          t
        
      
    
    {\displaystyle \mathbb {t} }
  , consider the function 
  
    
      
        f
      
    
    {\displaystyle f}
   from 
  
    
      
        [
        0
        ,
        2
        π
        ]
      
    
    {\displaystyle [0,2\pi ]}
   onto 
  
    
      
        
          t
        
      
    
    {\displaystyle \mathbb {t} }
   defined by 
  
    
      
        f
        (
        t
        )
        =
        (
        cos
        ⁡
        (
        t
        )
        ,
        sin
        ⁡
        (
        t
        )
        )
      
    
    {\displaystyle f(t)=(\cos(t),\sin(t))}
  . then 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   can be defined by

where 
  
    
      
        m
      
    
    {\displaystyle m}
   is the lebesgue measure on 
  
    
      
        [
        0
        ,
        2
        π
        ]
      
    
    {\displaystyle [0,2\pi ]}
  . the factor 
  
    
      
        (
        2
        π
        
          )
          
            −
            1
          
        
      
    
    {\displaystyle (2\pi )^{-1}}
   is chosen so that 
  
    
      
        μ
        (
        
          t
        
        )
        =
        1
      
    
    {\displaystyle \mu (\mathbb {t} )=1}
  .

if 
  
    
      
        g
      
    
    {\displaystyle g}
   is the group of positive real numbers under multiplication then a haar measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is given by

for any borel subset 
  
    
      
        s
      
    
    {\displaystyle s}
   of positive real numbers.
for example, if 
  
    
      
        s
      
    
    {\displaystyle s}
   is taken to be an interval 
  
    
      
        [
        a
        ,
        b
        ]
      
    
    {\displaystyle [a,b]}
  , then we find 
  
    
      
        μ
        (
        s
        )
        =
        log
        ⁡
        (
        b
        
          /
        
        a
        )
      
    
    {\displaystyle \mu (s)=\log(b/a)}
  . now we let the multiplicative group act on this interval by a multiplication of all its elements by a number 
  
    
      
        g
      
    
    {\displaystyle g}
  , resulting in 
  
    
      
        g
        s
      
    
    {\displaystyle gs}
   being the interval 
  
    
      
        [
        g
        ⋅
        a
        ,
        g
        ⋅
        b
        ]
        .
      
    
    {\displaystyle [g\cdot a,g\cdot b].}
   measuring this new interval, we find 
  
    
      
        μ
        (
        g
        s
        )
        =
        log
        ⁡
        (
        (
        g
        ⋅
        b
        )
        
          /
        
        (
        g
        ⋅
        a
        )
        )
        =
        log
        ⁡
        (
        b
        
          /
        
        a
        )
        =
        μ
        (
        s
        )
        .
      
    
    {\displaystyle \mu (gs)=\log((g\cdot b)/(g\cdot a))=\log(b/a)=\mu (s).}
  

if 
  
    
      
        g
      
    
    {\displaystyle g}
   is the group of nonzero real numbers with multiplication as operation, then a haar measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is given by

for any borel subset 
  
    
      
        s
      
    
    {\displaystyle s}
   of the nonzero reals. 

for the general linear group 
  
    
      
        g
        =
        g
        l
        (
        n
        ,
        
          r
        
        )
      
    
    {\displaystyle g=gl(n,\mathbb {r} )}
  , any left haar measure is a right haar measure and one such measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is given by

where 
  
    
      
        d
        x
      
    
    {\displaystyle dx}
   denotes the lebesgue measure on 
  
    
      
        
          
            r
          
          
            
              n
              
                2
              
            
          
        
      
    
    {\displaystyle \mathbb {r} ^{n^{2}}}
   identified with the set of all 
  
    
      
        n
        ×
        n
      
    
    {\displaystyle n\times n}
  -matrices.  this follows from the change of variables formula.

generalizing the previous three examples, if the group 
  
    
      
        g
      
    
    {\displaystyle g}
   is represented as an open submanifold of 
  
    
      
        
          
            r
          
          
            n
          
        
      
    
    {\displaystyle \mathbb {r} ^{n}}
   with smooth group operations, then a left haar measure on 
  
    
      
        g
      
    
    {\displaystyle g}
   is given by 
  
    
      
        
          
            1
            
              
                |
              
              
                j
                
                  (
                  x
                  ⋅
                  )
                
              
              (
              
                e
                
                  1
                
              
              )
              
                |
              
            
          
        
        
          d
          
            n
          
        
        x
      
    
    {\displaystyle {\frac {1}{|j_{(x\cdot )}(e_{1})|}}d^{n}x}
  , where 
  
    
      
        
          e
          
            1
          
        
      
    
    {\displaystyle e_{1}}
   is the group identity element of 
  
    
      
        g
      
    
    {\displaystyle g}
  , 
  
    
      
        
          j
          
            (
            x
            ⋅
            )
          
        
        (
        
          e
          
            1
          
        
        )
      
    
    {\displaystyle j_{(x\cdot )}(e_{1})}
   is the jacobian determinant of left multiplication by 
  
    
      
        x
      
    
    {\displaystyle x}
   at 
  
    
      
        
          e
          
            1
          
        
      
    
    {\displaystyle e_{1}}
  , and 
  
    
      
        
          d
          
            n
          
        
        x
      
    
    {\displaystyle d^{n}x}
   is the lebesgue measure on 
  
    
      
        
          
            r
          
          
            n
          
        
      
    
    {\displaystyle \mathbb {r} ^{n}}
  .  this follows from the change of variables formula. a right haar measure is given in the same way, except with 
  
    
      
        
          j
          
            (
            ⋅
            x
            )
          
        
        (
        
          e
          
            1
          
        
        )
      
    
    {\displaystyle j_{(\cdot x)}(e_{1})}
   being the jacobian of right multiplication by 
  
    
      
        x
      
    
    {\displaystyle x}
  .

let 
  
    
      
        g
      
    
    {\displaystyle g}
   be the set of all affine linear transformations 
  
    
      
        a
        :
        
          r
        
        →
        
          r
        
      
    
    {\displaystyle a:\mathbb {r} \to \mathbb {r} }
   of the form 
  
    
      
        r
        ↦
        x
        r
        +
        y
      
    
    {\displaystyle r\mapsto xr+y}
   for some fixed 
  
    
      
        x
        ,
        y
        ∈
        
          r
        
      
    
    {\displaystyle x,y\in \mathbb {r} }
   with 
  
    
      
        x
        >
        0.
      
    
    {\displaystyle x>0.}
   associate with 
  
    
      
        g
      
    
    {\displaystyle g}
   the operation of function composition 
  
    
      
        ∘
      
    
    {\displaystyle \circ }
  , which turns 
  
    
      
        g
      
    
    {\displaystyle g}
   into a non-abelian group. 
  
    
      
        g
      
    
    {\displaystyle g}
   can be identified with the right half plane 
  
    
      
        (
        0
        ,
        ∞
        )
        ×
        
          r
        
        =
        
          {
          
            (
            x
            ,
            y
            )
             
            :
             
            x
            ,
            y
            ∈
            
              r
            
            ,
            x
            >
            0
          
          }
        
      
    
    {\displaystyle (0,\infty )\times \mathbb {r} =\left\{(x,y)~:~x,y\in \mathbb {r} ,x>0\right\}}
   under which the group operation becomes 
  
    
      
        (
        s
        ,
        t
        )
        ∘
        (
        u
        ,
        v
        )
        =
        (
        s
        u
        ,
        s
        v
        +
        t
        )
        .
      
    
    {\displaystyle (s,t)\circ (u,v)=(su,sv+t).}
   a left-invariant haar measure 
  
    
      
        
          μ
          
            l
          
        
      
    
    {\displaystyle \mu _{l}}
   (respectively, a right-invariant haar measure 
  
    
      
        
          μ
          
            r
          
        
      
    
    {\displaystyle \mu _{r}}
  ) on 
  
    
      
        g
        =
        (
        0
        ,
        ∞
        )
        ×
        
          r
        
      
    
    {\displaystyle g=(0,\infty )\times \mathbb {r} }
   is given by
     and     
for any borel subset 
  
    
      
        s
      
    
    {\displaystyle s}
   of 
  
    
      
        g
        =
        (
        0
        ,
        ∞
        )
        ×
        
          r
        
        .
      
    
    {\displaystyle g=(0,\infty )\times \mathbb {r} .}
   this is because if 
  
    
      
        s
        ⊆
        (
        0
        ,
        ∞
        )
        ×
        
          r
        
      
    
    {\displaystyle s\subseteq (0,\infty )\times \mathbb {r} }
   is an open subset then for 
  
    
      
        (
        s
        ,
        t
        )
        ∈
        g
      
    
    {\displaystyle (s,t)\in g}
   fixed, integration by substitution gives 
 
while for 
  
    
      
        (
        u
        ,
        v
        )
        ∈
        g
      
    
    {\displaystyle (u,v)\in g}
   fixed, 

on any lie group of dimension 
  
    
      
        d
      
    
    {\displaystyle d}
   a left haar measure can be associated with any non-zero left-invariant 
  
    
      
        d
      
    
    {\displaystyle d}
  -form 
  
    
      
        ω
      
    
    {\displaystyle \omega }
  , as the lebesgue measure 
  
    
      
        
          |
        
        ω
        
          |
        
      
    
    {\displaystyle |\omega |}
  ; and similarly for right haar measures. this means also that the modular function can be computed, as the absolute value of the determinant of the adjoint representation.

the unit hyperbola 
  
    
      
        {
        (
        x
        ,
        y
        )
        :
        
          x
          
            2
          
        
        −
        
          y
          
            2
          
        
        =
        1
        ,
        x
        >
        0
        }
      
    
    {\displaystyle \{(x,y):x^{2}-y^{2}=1,x>0\}}
   can be taken as a group under multiplication defined as with split-complex numbers 
  
    
      
        z
        =
        x
        +
        y
        j
        ,
         
         
        
          j
          
            2
          
        
        =
        +
        1.
      
    
    {\displaystyle z=x+yj,\ \ j^{2}=+1.}
   the usual area measure in the crescent 
  
    
      
        c
        =
        {
        (
        x
        ,
        y
        )
        :
        
          |
        
        y
        
          |
        
        <
        x
        ,
         
         
        
          x
          
            2
          
        
        −
        
          y
          
            2
          
        
        <
        1
        }
      
    
    {\displaystyle c=\{(x,y):|y|<x,\ \ x^{2}-y^{2}<1\}}
   serves to define hyperbolic angle as the area of its hyperbolic sector. the haar measure of the unit hyperbola is generated by the hyperbolic angle of segments on the hyperbola. for instance, a measure of one unit is given by the segment running from (1,1) to (e,1/e), where e is euler's number. hyperbolic angle has been exploited in mathematical physics with rapidity standing in for classical velocity.

if 
  
    
      
        g
      
    
    {\displaystyle g}
   is the group of non-zero quaternions, then 
  
    
      
        g
      
    
    {\displaystyle g}
   can be seen as an open subset of 
  
    
      
        
          
            r
          
          
            4
          
        
      
    
    {\displaystyle \mathbb {r} ^{4}}
  . a haar measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is given by

where 
  
    
      
        d
        x
        ∧
        d
        y
        ∧
        d
        z
        ∧
        d
        w
      
    
    {\displaystyle dx\wedge dy\wedge dz\wedge dw}
   denotes the lebesgue measure in 
  
    
      
        
          
            r
          
          
            4
          
        
      
    
    {\displaystyle \mathbb {r} ^{4}}
   and 
  
    
      
        s
      
    
    {\displaystyle s}
   is a borel subset of 
  
    
      
        g
      
    
    {\displaystyle g}
  .

if 
  
    
      
        g
      
    
    {\displaystyle g}
   is the additive group of 
  
    
      
        p
      
    
    {\displaystyle p}
  -adic numbers for a prime 
  
    
      
        p
      
    
    {\displaystyle p}
  , then a haar measure is given by letting 
  
    
      
        a
        +
        
          p
          
            n
          
        
        o
      
    
    {\displaystyle a+p^{n}o}
   have measure 
  
    
      
        
          p
          
            −
            n
          
        
      
    
    {\displaystyle p^{-n}}
  , where 
  
    
      
        o
      
    
    {\displaystyle o}
   is the ring of 
  
    
      
        p
      
    
    {\displaystyle p}
  -adic integers.


== construction of haar measure ==


=== a construction using compact subsets ===
the following method of constructing haar measure is essentially the method used by haar and weil.
for any subsets 
  
    
      
        s
        ,
        t
        ⊆
        g
      
    
    {\displaystyle s,t\subseteq g}
   with 
  
    
      
        s
      
    
    {\displaystyle s}
   nonempty define 
  
    
      
        [
        t
        :
        s
        ]
      
    
    {\displaystyle [t:s]}
   to be the smallest number of left translates of 
  
    
      
        s
      
    
    {\displaystyle s}
   that cover 
  
    
      
        t
      
    
    {\displaystyle t}
   (so this is a non-negative integer or infinity). this is not additive on compact sets 
  
    
      
        k
        ⊆
        g
      
    
    {\displaystyle k\subseteq g}
  , though it does have the property that 
  
    
      
        [
        k
        :
        u
        ]
        +
        [
        l
        :
        u
        ]
        =
        [
        k
        ∪
        l
        :
        u
        ]
      
    
    {\displaystyle [k:u]+[l:u]=[k\cup l:u]}
   for disjoint compact sets 
  
    
      
        k
        ,
        l
        ⊆
        g
      
    
    {\displaystyle k,l\subseteq g}
   provided that 
  
    
      
        u
      
    
    {\displaystyle u}
   is a sufficiently small open neighborhood of the identity (depending on 
  
    
      
        k
      
    
    {\displaystyle k}
   and 
  
    
      
        l
      
    
    {\displaystyle l}
  ).  the idea of haar measure is to take a sort of limit of 
  
    
      
        [
        k
        :
        u
        ]
      
    
    {\displaystyle [k:u]}
   as 
  
    
      
        u
      
    
    {\displaystyle u}
   becomes smaller to make it additive on all pairs of disjoint compact sets, though it first has to be normalized so that the limit is not just infinity. so fix a compact set 
  
    
      
        a
      
    
    {\displaystyle a}
   with non-empty interior (which exists as the group is locally compact) and for a compact set 
  
    
      
        k
      
    
    {\displaystyle k}
   define

  
    
      
        
          μ
          
            a
          
        
        (
        k
        )
        =
        
          lim
          
            u
          
        
        
          
            
              [
              k
              :
              u
              ]
            
            
              [
              a
              :
              u
              ]
            
          
        
      
    
    {\displaystyle \mu _{a}(k)=\lim _{u}{\frac {[k:u]}{[a:u]}}}
  where the limit is taken over a suitable directed set of open neighborhoods of the identity eventually contained in any given neighborhood; the existence of a directed set such that the limit exists follows using tychonoff's theorem.
the function 
  
    
      
        
          μ
          
            a
          
        
      
    
    {\displaystyle \mu _{a}}
   is additive on disjoint compact subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
  , which implies that it is a regular content. from a regular content one can construct a measure by first extending  
  
    
      
        
          μ
          
            a
          
        
      
    
    {\displaystyle \mu _{a}}
   to open sets by inner regularity, then to all sets by outer regularity, and then restricting it to borel sets. (even for open sets 
  
    
      
        u
      
    
    {\displaystyle u}
  , the corresponding measure 
  
    
      
        
          μ
          
            a
          
        
        (
        u
        )
      
    
    {\displaystyle \mu _{a}(u)}
   need not be given by the lim sup formula above. the problem is that the function given by the lim sup formula is not countably subadditive in general and in particular is infinite on any set without compact closure, so is not an outer measure.)


=== a construction using compactly supported functions ===
cartan introduced  another way of constructing haar measure as a radon measure (a positive linear functional on compactly supported continuous functions) which is similar to the construction above except that 
  
    
      
        a
      
    
    {\displaystyle a}
  , 
  
    
      
        k
      
    
    {\displaystyle k}
  , and 
  
    
      
        u
      
    
    {\displaystyle u}
   are positive continuous functions of compact support rather than subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
  . in this case we define 
  
    
      
        [
        k
        :
        u
        ]
      
    
    {\displaystyle [k:u]}
   to be the infimum of numbers 
  
    
      
        
          c
          
            1
          
        
        +
        ⋯
        +
        
          c
          
            n
          
        
      
    
    {\displaystyle c_{1}+\cdots +c_{n}}
   such that 
  
    
      
        k
        (
        g
        )
      
    
    {\displaystyle k(g)}
   is less than the linear combination 
  
    
      
        
          c
          
            1
          
        
        u
        (
        
          g
          
            1
          
        
        g
        )
        +
        ⋯
        +
        
          c
          
            n
          
        
        u
        (
        
          g
          
            n
          
        
        g
        )
      
    
    {\displaystyle c_{1}u(g_{1}g)+\cdots +c_{n}u(g_{n}g)}
   of left translates of 
  
    
      
        u
      
    
    {\displaystyle u}
   for some 
  
    
      
        
          g
          
            1
          
        
        ,
        …
        ,
        
          g
          
            n
          
        
        ∈
        g
      
    
    {\displaystyle g_{1},\ldots ,g_{n}\in g}
  .
as before we define

  
    
      
        
          μ
          
            a
          
        
        (
        k
        )
        =
        
          lim
          
            u
          
        
        
          
            
              [
              k
              :
              u
              ]
            
            
              [
              a
              :
              u
              ]
            
          
        
      
    
    {\displaystyle \mu _{a}(k)=\lim _{u}{\frac {[k:u]}{[a:u]}}}
  .the fact that the limit exists takes some effort to prove, though the advantage of doing this is that the proof avoids the use of the axiom of choice and also gives uniqueness of haar measure as a by-product. the functional 
  
    
      
        
          μ
          
            a
          
        
      
    
    {\displaystyle \mu _{a}}
   extends to a positive linear functional on compactly supported continuous functions and so gives a haar measure. (note that even though the limit is linear in 
  
    
      
        k
      
    
    {\displaystyle k}
  , the individual terms 
  
    
      
        [
        k
        :
        u
        ]
      
    
    {\displaystyle [k:u]}
   are not usually linear in 
  
    
      
        k
      
    
    {\displaystyle k}
  .)


=== a construction using mean values of functions ===
von neumann gave a method of constructing haar measure using mean values of functions, though it only works for compact groups. the idea is that given a function 
  
    
      
        f
      
    
    {\displaystyle f}
   on a compact group, one can find a convex combination 
  
    
      
        ∑
        
          a
          
            i
          
        
        f
        (
        
          g
          
            i
          
        
        g
        )
      
    
    {\textstyle \sum a_{i}f(g_{i}g)}
   (where 
  
    
      
        ∑
        
          a
          
            i
          
        
        =
        1
      
    
    {\textstyle \sum a_{i}=1}
  ) of its left translates that differs from a constant function by at most some small number 
  
    
      
        ϵ
      
    
    {\displaystyle \epsilon }
  . then one shows that as 
  
    
      
        ϵ
      
    
    {\displaystyle \epsilon }
   tends to zero the values of these constant functions tend to a limit, which is called the mean value (or integral) of the function 
  
    
      
        f
      
    
    {\displaystyle f}
  .
for groups that are locally compact but not compact this construction does not give haar measure as the mean value of compactly supported functions is zero. however something like this does work for almost periodic functions on the group which do have a mean value, though this is not given with respect to haar measure.


=== a construction on lie groups ===
on an n-dimensional lie group, haar measure can be constructed easily as the measure induced by a left-invariant n-form. this was known before haar's theorem.


== the right haar measure ==
it can also be proved that there exists a unique (up to multiplication by a positive constant) right-translation-invariant borel measure 
  
    
      
        ν
      
    
    {\displaystyle \nu }
   satisfying the above regularity conditions and being finite on compact sets, but it need not coincide with the  left-translation-invariant measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
  . the left and right haar measures are the same only for so-called unimodular groups (see below). it is quite simple, though, to find a relationship between 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   and 
  
    
      
        ν
      
    
    {\displaystyle \nu }
  .
indeed, for a borel set 
  
    
      
        s
      
    
    {\displaystyle s}
  , let us denote by 
  
    
      
        
          s
          
            −
            1
          
        
      
    
    {\displaystyle s^{-1}}
   the set of inverses of elements of 
  
    
      
        s
      
    
    {\displaystyle s}
  . if we define 

  
    
      
        
          μ
          
            −
            1
          
        
        (
        s
        )
        =
        μ
        (
        
          s
          
            −
            1
          
        
        )
        
      
    
    {\displaystyle \mu _{-1}(s)=\mu (s^{-1})\quad }
  then this is a right haar measure. to show right invariance,  apply the definition:

  
    
      
        
          μ
          
            −
            1
          
        
        (
        s
        g
        )
        =
        μ
        (
        (
        s
        g
        
          )
          
            −
            1
          
        
        )
        =
        μ
        (
        
          g
          
            −
            1
          
        
        
          s
          
            −
            1
          
        
        )
        =
        μ
        (
        
          s
          
            −
            1
          
        
        )
        =
        
          μ
          
            −
            1
          
        
        (
        s
        )
        .
        
      
    
    {\displaystyle \mu _{-1}(sg)=\mu ((sg)^{-1})=\mu (g^{-1}s^{-1})=\mu (s^{-1})=\mu _{-1}(s).\quad }
  because the right measure is unique, it follows that 
  
    
      
        
          μ
          
            −
            1
          
        
      
    
    {\displaystyle \mu _{-1}}
   is a multiple of 
  
    
      
        ν
      
    
    {\displaystyle \nu }
   and so

  
    
      
        μ
        (
        
          s
          
            −
            1
          
        
        )
        =
        k
        ν
        (
        s
        )
        
      
    
    {\displaystyle \mu (s^{-1})=k\nu (s)\,}
  for all borel sets 
  
    
      
        s
      
    
    {\displaystyle s}
  , where 
  
    
      
        k
      
    
    {\displaystyle k}
   is some positive constant.


=== the modular function ===
the left translate of a right haar measure is a right haar measure. more precisely, if 
  
    
      
        ν
      
    
    {\displaystyle \nu }
   is a right haar measure, then for any fixed choice of a group element g,

  
    
      
        s
        ↦
        ν
        (
        
          g
          
            −
            1
          
        
        s
        )
        
      
    
    {\displaystyle s\mapsto \nu (g^{-1}s)\quad }
  is also right invariant.  thus, by uniqueness up to a constant scaling factor of the haar measure, there exists a function 
  
    
      
        δ
      
    
    {\displaystyle \delta }
   from the group to the positive reals, called the haar modulus, modular function or modular character, such that for every borel set 
  
    
      
        s
      
    
    {\displaystyle s}
  

  
    
      
        ν
        (
        
          g
          
            −
            1
          
        
        s
        )
        =
        δ
        (
        g
        )
        ν
        (
        s
        )
        .
        
      
    
    {\displaystyle \nu (g^{-1}s)=\delta (g)\nu (s).\quad }
  since right haar measure is well-defined up to a positive scaling factor, this equation shows the modular function is independent of the choice of right haar measure in the above equation.
the modular function is a continuous group homomorphism from g to the multiplicative group of positive real numbers. a group is called unimodular if the modular function is identically 
  
    
      
        1
      
    
    {\displaystyle 1}
  , or, equivalently, if the haar measure is both left and right invariant. examples of unimodular groups are abelian groups, compact groups, discrete groups (e.g., finite groups), semisimple lie groups and connected nilpotent lie groups. an example of a non-unimodular group is the group of affine transformations

  
    
      
        
          
            {
          
        
        x
        ↦
        a
        x
        +
        b
        :
        a
        ∈
        
          r
        
        ∖
        {
        0
        }
        ,
        b
        ∈
        
          r
        
        
          
            }
          
        
        =
        
          {
          
            
              [
              
                
                  
                    a
                  
                  
                    b
                  
                
                
                  
                    0
                  
                  
                    1
                  
                
              
              ]
            
          
          }
        
      
    
    {\displaystyle {\big \{}x\mapsto ax+b:a\in \mathbb {r} \setminus \{0\},b\in \mathbb {r} {\big \}}=\left\{{\begin{bmatrix}a&b\\0&1\end{bmatrix}}\right\}}
  on the real line. this example shows that a solvable lie group need not be unimodular.
in this group a left haar measure is given by 
  
    
      
        
          
            1
            
              a
              
                2
              
            
          
        
        d
        a
        ∧
        d
        b
      
    
    {\displaystyle {\frac {1}{a^{2}}}da\wedge db}
  , and a right haar measure by 
  
    
      
        
          
            1
            
              
                |
              
              a
              
                |
              
            
          
        
        d
        a
        ∧
        d
        b
      
    
    {\displaystyle {\frac {1}{|a|}}da\wedge db}
  .


== measures on homogeneous spaces ==
if the locally compact group 
  
    
      
        g
      
    
    {\displaystyle g}
   acts transitively on a homogeneous space 
  
    
      
        g
        
          /
        
        h
      
    
    {\displaystyle g/h}
  , one can ask if this space has an invariant measure, or more generally a semi-invariant measure with the property that 
  
    
      
        μ
        (
        g
        s
        )
        =
        χ
        (
        g
        )
        μ
        (
        s
        )
      
    
    {\displaystyle \mu (gs)=\chi (g)\mu (s)}
   for some character 
  
    
      
        χ
      
    
    {\displaystyle \chi }
   of 
  
    
      
        g
      
    
    {\displaystyle g}
  . a necessary and sufficient condition for the existence of such a measure is that the restriction 
  
    
      
        χ
        
          
            |
          
          
            h
          
        
      
    
    {\displaystyle \chi |_{h}}
   is equal to 
  
    
      
        δ
        
          
            |
          
          
            h
          
        
        
          /
        
        δ
      
    
    {\displaystyle \delta |_{h}/\delta }
  , where 
  
    
      
        δ
      
    
    {\displaystyle \delta }
   and 
  
    
      
        δ
      
    
    {\displaystyle \delta }
   are the modular functions of 
  
    
      
        g
      
    
    {\displaystyle g}
   and 
  
    
      
        h
      
    
    {\displaystyle h}
   respectively. 
in particular an invariant measure on 
  
    
      
        g
        
          /
        
        h
      
    
    {\displaystyle g/h}
   exists if and only if the modular function 
  
    
      
        δ
      
    
    {\displaystyle \delta }
   of 
  
    
      
        g
      
    
    {\displaystyle g}
   restricted to 
  
    
      
        h
      
    
    {\displaystyle h}
   is the modular function 
  
    
      
        δ
      
    
    {\displaystyle \delta }
   of 
  
    
      
        h
      
    
    {\displaystyle h}
  .


=== example ===
if 
  
    
      
        g
      
    
    {\displaystyle g}
   is the group 
  
    
      
        s
        
          l
          
            2
          
        
        (
        
          r
        
        )
      
    
    {\displaystyle sl_{2}(\mathbb {r} )}
   and 
  
    
      
        h
      
    
    {\displaystyle h}
   is the subgroup of upper triangular matrices, then the modular function of 
  
    
      
        h
      
    
    {\displaystyle h}
   is nontrivial but the modular function of 
  
    
      
        g
      
    
    {\displaystyle g}
   is trivial. the quotient of these cannot be extended to any character of 
  
    
      
        g
      
    
    {\displaystyle g}
  , so the quotient space 
  
    
      
        g
        
          /
        
        h
      
    
    {\displaystyle g/h}
   (which can be thought of as 1-dimensional real projective space) does not have even a semi-invariant measure.


== haar integral ==
using the general theory of lebesgue integration, one can then define an integral for all borel measurable functions 
  
    
      
        f
      
    
    {\displaystyle f}
   on 
  
    
      
        g
      
    
    {\displaystyle g}
  . this integral is called the haar integral and is denoted as:

  
    
      
        ∫
        f
        (
        x
        )
        
        d
        μ
        (
        x
        )
      
    
    {\displaystyle \int f(x)\,d\mu (x)}
  where 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is the haar measure.
one property of a left haar measure 
  
    
      
        μ
      
    
    {\displaystyle \mu }
   is that, letting 
  
    
      
        s
      
    
    {\displaystyle s}
   be an element of 
  
    
      
        g
      
    
    {\displaystyle g}
  , the following is valid:

  
    
      
        
          ∫
          
            g
          
        
        f
        (
        s
        x
        )
         
        d
        μ
        (
        x
        )
        =
        
          ∫
          
            g
          
        
        f
        (
        x
        )
         
        d
        μ
        (
        x
        )
      
    
    {\displaystyle \int _{g}f(sx)\ d\mu (x)=\int _{g}f(x)\ d\mu (x)}
  for any haar integrable function 
  
    
      
        f
      
    
    {\displaystyle f}
   on 
  
    
      
        g
      
    
    {\displaystyle g}
  . this is immediate for indicator functions:

  
    
      
        ∫
        
          
            
              1
            
          
          
            a
          
        
        (
        t
        g
        )
        
        d
        μ
        =
        ∫
        
          
            
              1
            
          
          
            
              t
              
                −
                1
              
            
            a
          
        
        (
        g
        )
        
        d
        μ
        =
        μ
        (
        
          t
          
            −
            1
          
        
        a
        )
        =
        μ
        (
        a
        )
        =
        ∫
        
          
            
              1
            
          
          
            a
          
        
        (
        g
        )
        
        d
        μ
      
    
    {\displaystyle \int {\mathit {1}}_{a}(tg)\,d\mu =\int {\mathit {1}}_{t^{-1}a}(g)\,d\mu =\mu (t^{-1}a)=\mu (a)=\int {\mathit {1}}_{a}(g)\,d\mu }
  which is essentially the definition of left invariance.


== uses ==
in the same issue of annals of mathematics and immediately after haar's paper, the haar theorem was used to solve hilbert's fifth problem for compact groups by john von neumann.unless 
  
    
      
        g
      
    
    {\displaystyle g}
   is a discrete group, it is impossible to define a countably additive left-invariant regular measure on all subsets of 
  
    
      
        g
      
    
    {\displaystyle g}
  , assuming the axiom of choice,  according to the theory of non-measurable sets.


=== abstract harmonic analysis ===
the haar measures are used in harmonic analysis on locally compact groups, particularly in the theory of pontryagin duality. to prove the existence of a haar measure on a locally compact group 
  
    
      
        g
      
    
    {\displaystyle g}
   it suffices to exhibit a left-invariant radon measure on 
  
    
      
        g
      
    
    {\displaystyle g}
  .


=== mathematical statistics ===
in mathematical statistics, haar measures are used for prior measures, which are prior probabilities for compact groups of transformations. these prior measures are used to construct admissible procedures, by appeal to the characterization of admissible procedures as bayesian procedures (or limits of bayesian procedures) by wald. for example, a right haar measure for a family of distributions with a location parameter results in the pitman estimator, which is best equivariant. when left and right haar measures differ, the right measure is usually preferred as a prior distribution. for the group of affine transformations on the parameter space of the normal distribution, the right haar measure is the jeffreys prior measure. unfortunately, even right haar measures sometimes result in useless priors, which cannot be recommended for practical use, like other methods of constructing prior measures that avoid subjective information.another use of haar measure in statistics is in conditional inference, in which the sampling distribution of a statistic is conditioned on another statistic of the data. in invariant-theoretic conditional inference, the sampling distribution is conditioned on an invariant of the group of transformations (with respect to which the haar measure is defined). the result of conditioning sometimes depends on the order in which invariants are used and on the choice of a maximal invariant, so that by itself a  statistical principle of invariance fails to select any unique best conditional statistic (if any exist); at least another principle is needed.
for non-compact groups, statisticians have extended haar-measure results using amenable groups.


== weil's converse theorem ==
in 1936, andré weil proved a converse (of sorts) to haar's theorem, by showing that if a group has a left invariant measure with a certain separating property, then one can define a topology on the group, and the completion of the group is locally compact and the given measure is essentially the same as the haar measure on this completion.


== see also ==
invariant measure
pontryagin duality
riesz–markov–kakutani representation theorem


== notes ==


== further reading ==
diestel, joe; spalsbury, angela (2014), the joys of haar measure, graduate studies in mathematics, vol. 150, providence, ri: american mathematical society, isbn 978-1-4704-0935-7, mr 3186070
loomis, lynn (1953), an introduction to abstract harmonic analysis, d. van nostrand and co., hdl:2027/uc1.b4250788.
hewitt, edwin; ross, kenneth a. (1963), abstract harmonic analysis. vol. i: structure of topological groups. integration theory, group representations., die grundlehren der mathematischen wissenschaften, vol. 115, berlin-göttingen-heidelberg: springer-verlag, mr 0156915
nachbin, leopoldo (1965), the haar integral, princeton, nj: d. van nostrand
andré weil, basic number theory, academic press, 1971.


== external links ==
the existence and uniqueness of the haar integral on a locally compact topological group - by gert k. pedersen
on the existence and uniqueness of invariant measures on locally compact groups - by simon rubinstein-salzedo