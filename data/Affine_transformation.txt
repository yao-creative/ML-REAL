in euclidean geometry, an affine transformation, or an affinity (from the latin, affinis, "connected with"), is a geometric transformation that preserves lines and parallelism (but not necessarily distances and angles).
more generally, an affine transformation is an automorphism of an affine space (euclidean spaces are specific affine spaces), that is, a function which maps an affine space onto itself while preserving both the dimension of any affine subspaces (meaning that it sends points to points, lines to lines, planes to planes, and so on) and the ratios of the lengths of parallel line segments. consequently, sets of parallel affine subspaces remain parallel after an affine transformation. an affine transformation does not necessarily preserve angles between lines or distances between points, though it does preserve ratios of distances between points lying on a straight line.
if x is the point set of an affine space, then every affine transformation on x can be represented as the composition of a linear transformation on x and a translation of x. unlike a purely linear transformation, an affine transformation need not preserve the origin of the affine space. thus, every linear transformation is affine, but not every affine transformation is linear.
examples of affine transformations include translation, scaling, homothety, similarity, reflection, rotation, shear mapping, and compositions of them in any combination and sequence.
viewing an affine space as the complement of a hyperplane at infinity of a projective space, the affine transformations are the projective transformations of that projective space that leave the hyperplane at infinity invariant, restricted to the complement of that hyperplane.
a generalization of an affine transformation is an affine map (or affine homomorphism or affine mapping) between two (potentially different) affine spaces over the same field k. let (x, v, k) and (z, w, k) be two affine spaces with x and z the point sets and v and w the respective associated vector spaces over the field k. a map f: x → z is an affine map if there exists a linear map mf : v → w such that mf (x − y) = f (x) − f (y) for all x, y in x.


== definition ==
let (x, v, k) be an affine space of dimension at least two, with x the point set and v the associated vector space over the field k. a semiaffine transformation f of x is a bijection of x onto itself satisfying:
if s is a d-dimensional affine subspace of x, f (s) is also a d-dimensional affine subspace of x.
if s and t are parallel affine subspaces of x, then f (s) || f (t).these two conditions express what is precisely meant by the expression that "f preserves parallelism".
these conditions are not independent as the second follows from the first. furthermore, if the field k has at least three elements, the first condition can be simplified to: f is a collineation, that is, it maps lines to lines.if the dimension of the affine space (x, v, k) is at least two, then an affine transformation is a semiaffine transformation f that satisfies the condition: if x ≠ y and p ≠ q are points of x such that the line segments xy and pq are parallel, then

  
    
      
        
          
            
              ‖
              
                
                  
                    p
                    q
                  
                  ¯
                
              
              ‖
            
            
              ‖
              
                
                  
                    x
                    y
                  
                  ¯
                
              
              ‖
            
          
        
        =
        
          
            
              ‖
              
                
                  
                    f
                    (
                    p
                    )
                    f
                    (
                    q
                    )
                  
                  ¯
                
              
              ‖
            
            
              ‖
              
                
                  
                    f
                    (
                    x
                    )
                    f
                    (
                    y
                    )
                  
                  ¯
                
              
              ‖
            
          
        
        .
      
    
    {\displaystyle {\frac {\|{\overline {pq}}\|}{\|{\overline {xy}}\|}}={\frac {\|{\overline {f(p)f(q)}}\|}{\|{\overline {f(x)f(y)}}\|}}.}
  


=== affine lines ===
if the dimension of the affine space is one, that is, the space is an affine line, then any permutation of x would automatically satisfy the conditions to be a semiaffine transform. so, an affine transformation of an affine line is defined as any permutation f of the points of x such that if x ≠ y and p ≠ q are points of x, then

  
    
      
        
          
            
              ‖
              
                
                  
                    p
                    q
                  
                  ¯
                
              
              ‖
            
            
              ‖
              
                
                  
                    x
                    y
                  
                  ¯
                
              
              ‖
            
          
        
        =
        
          
            
              ‖
              
                
                  
                    f
                    (
                    p
                    )
                    f
                    (
                    q
                    )
                  
                  ¯
                
              
              ‖
            
            
              ‖
              
                
                  
                    f
                    (
                    x
                    )
                    f
                    (
                    y
                    )
                  
                  ¯
                
              
              ‖
            
          
        
        .
      
    
    {\displaystyle {\frac {\|{\overline {pq}}\|}{\|{\overline {xy}}\|}}={\frac {\|{\overline {f(p)f(q)}}\|}{\|{\overline {f(x)f(y)}}\|}}.}
  


== structure ==
by the definition of an affine space, v acts on x, so that, for every pair (x, v) in x × v there is associated a point y in x. we can denote this action by v→(x) = y. here we use the convention that v→ = v are two interchangeable notations for an element of v.  by fixing a point c in x one can define a function mc : x → v by mc(x) = cx→. for any c, this function is one-to-one, and so, has an inverse function mc−1 : v → x given by mc−1(v) = v→(c). these functions can be used to turn x into a vector space (with respect to the point c) by defining:

  
    
      
        x
        +
        y
        =
        
          m
          
            c
          
          
            −
            1
          
        
        
          (
          
            
              m
              
                c
              
            
            (
            x
            )
            +
            
              m
              
                c
              
            
            (
            y
            )
          
          )
        
        ,
        
           for all 
        
        x
        ,
        y
        
           in 
        
        x
        ,
      
    
    {\displaystyle x+y=m_{c}^{-1}\left(m_{c}(x)+m_{c}(y)\right),{\text{ for all }}x,y{\text{ in }}x,}
   and

  
    
      
        r
        x
        =
        
          m
          
            c
          
          
            −
            1
          
        
        
          (
          
            r
            
              m
              
                c
              
            
            (
            x
            )
          
          )
        
        ,
        
           for all 
        
        r
        
           in 
        
        k
        
           and 
        
        x
        
           in 
        
        x
        .
      
    
    {\displaystyle rx=m_{c}^{-1}\left(rm_{c}(x)\right),{\text{ for all }}r{\text{ in }}k{\text{ and }}x{\text{ in }}x.}
  this vector space has origin c and formally needs to be distinguished from the affine space x, but common practice is to denote it by the same symbol and mention that it is a vector space after an origin has been specified. this identification permits points to be viewed as vectors and vice versa.
for any linear transformation λ of v, we can define the function l(c, λ) : x → x by

  
    
      
        l
        (
        c
        ,
        λ
        )
        (
        x
        )
        =
        
          m
          
            c
          
          
            −
            1
          
        
        
          (
          
            λ
            (
            
              m
              
                c
              
            
            (
            x
            )
            )
          
          )
        
        =
        c
        +
        λ
        (
        
          
            
              
                c
                x
              
              →
            
          
        
        )
        .
      
    
    {\displaystyle l(c,\lambda )(x)=m_{c}^{-1}\left(\lambda (m_{c}(x))\right)=c+\lambda ({\vec {cx}}).}
  then l(c, λ) is an affine transformation of x which leaves the point c fixed. it is a linear transformation of x, viewed as a vector space with origin c.
let σ be any affine transformation of x. pick a point c in x and consider the translation of x by the vector 
  
    
      
        
          
            w
          
        
        =
        
          
            
              c
              σ
              (
              c
              )
            
            →
          
        
      
    
    {\displaystyle {\mathbf {w}}={\overrightarrow {c\sigma (c)}}}
  , denoted by tw. translations are affine transformations and the composition of affine transformations is an affine transformation. for this choice of c, there exists a unique linear transformation λ of v such that

  
    
      
        σ
        (
        x
        )
        =
        
          t
          
            
              w
            
          
        
        
          (
          
            l
            (
            c
            ,
            λ
            )
            (
            x
            )
          
          )
        
        .
      
    
    {\displaystyle \sigma (x)=t_{\mathbf {w}}\left(l(c,\lambda )(x)\right).}
  that is, an arbitrary affine transformation of x is the composition of a linear transformation of x (viewed as a vector space) and a translation of x.
this representation of affine transformations is often taken as the definition of an affine transformation (with the choice of origin being implicit).


== representation ==
as shown above, an affine map is the composition of two functions: a translation and a linear map. ordinary vector algebra uses matrix multiplication to represent linear maps, and vector addition to represent translations. formally, in the finite-dimensional case, if the linear map is represented as a multiplication by an invertible matrix 
  
    
      
        a
      
    
    {\displaystyle a}
   and the translation as the addition of a vector 
  
    
      
        
          b
        
      
    
    {\displaystyle \mathbf {b} }
  , an affine map 
  
    
      
        f
      
    
    {\displaystyle f}
   acting on a vector 
  
    
      
        
          x
        
      
    
    {\displaystyle \mathbf {x} }
   can be represented as

  
    
      
        
          y
        
        =
        f
        (
        
          x
        
        )
        =
        a
        
          x
        
        +
        
          b
        
        .
      
    
    {\displaystyle \mathbf {y} =f(\mathbf {x} )=a\mathbf {x} +\mathbf {b} .}
  


=== augmented matrix ===

using an augmented matrix and an augmented vector, it is possible to represent both the translation and the linear map using a single matrix multiplication. the technique requires that all vectors be augmented with a "1" at the end, and all matrices be augmented with an extra row of zeros at the bottom, an extra column—the translation vector—to the right, and a "1" in the lower right corner. if 
  
    
      
        a
      
    
    {\displaystyle a}
   is a matrix,

  
    
      
        
          
            [
            
              
                
                  
                    y
                  
                
              
              
                
                  1
                
              
            
            ]
          
        
        =
        
          [
          
            
              
                
                
                  a
                
                
                
                  
                    b
                  
                
              
              
                
                  0
                
                
                  ⋯
                
                
                  0
                
                
                  1
                
              
            
          
          ]
        
        
          
            [
            
              
                
                  
                    x
                  
                
              
              
                
                  1
                
              
            
            ]
          
        
      
    
    {\displaystyle {\begin{bmatrix}\mathbf {y} \\1\end{bmatrix}}=\left[{\begin{array}{ccc|c}&a&&\mathbf {b} \\0&\cdots &0&1\end{array}}\right]{\begin{bmatrix}\mathbf {x} \\1\end{bmatrix}}}
  is equivalent to the following

  
    
      
        
          y
        
        =
        a
        
          x
        
        +
        
          b
        
        .
      
    
    {\displaystyle \mathbf {y} =a\mathbf {x} +\mathbf {b} .}
  the above-mentioned augmented matrix is called an affine transformation matrix. in the general case, when the last row vector is not restricted to be 
  
    
      
        
          [
          
            
              
                
                  0
                
                
                  ⋯
                
                
                  0
                
                
                  1
                
              
            
          
          ]
        
      
    
    {\displaystyle \left[{\begin{array}{ccc|c}0&\cdots &0&1\end{array}}\right]}
  , the matrix becomes a projective transformation matrix (as it can also be used to perform projective transformations).
this representation exhibits the set of all invertible affine transformations as the semidirect product of 
  
    
      
        
          k
          
            n
          
        
      
    
    {\displaystyle k^{n}}
   and 
  
    
      
        gl
        ⁡
        (
        n
        ,
        k
        )
      
    
    {\displaystyle \operatorname {gl} (n,k)}
  .  this is a group under the operation of composition of functions, called the affine group.
ordinary matrix-vector multiplication always maps the origin to the origin, and could therefore never represent a translation, in which the origin must necessarily be mapped to some other point. by appending the additional coordinate "1" to every vector, one essentially considers the space to be mapped as a subset of a space with an additional dimension. in that space, the original space occupies the subset in which the additional coordinate is 1. thus the origin of the original space can be found at 
  
    
      
        (
        0
        ,
        0
        ,
        …
        ,
        0
        ,
        1
        )
      
    
    {\displaystyle (0,0,\dotsc ,0,1)}
  . a translation within the original space by means of a linear transformation of the higher-dimensional space is then possible (specifically, a shear transformation). the coordinates in the higher-dimensional space are an example of homogeneous coordinates. if the original space is euclidean, the higher dimensional space is a real projective space.
the advantage of using homogeneous coordinates is that one can combine any number of affine transformations into one by multiplying the respective matrices. this property is used extensively in computer graphics, computer vision and robotics.


==== example augmented matrix ====
if the vectors 
  
    
      
        
          
            x
          
          
            1
          
        
        ,
        …
        ,
        
          
            x
          
          
            n
            +
            1
          
        
      
    
    {\displaystyle \mathbf {x} _{1},\dotsc ,\mathbf {x} _{n+1}}
   are a basis of the domain's projective vector space and if 
  
    
      
        
          
            y
          
          
            1
          
        
        ,
        …
        ,
        
          
            y
          
          
            n
            +
            1
          
        
      
    
    {\displaystyle \mathbf {y} _{1},\dotsc ,\mathbf {y} _{n+1}}
   are the corresponding vectors in the codomain vector space then the augmented matrix 
  
    
      
        m
      
    
    {\displaystyle m}
   that achieves this affine transformation

  
    
      
        
          
            [
            
              
                
                  
                    y
                  
                
              
              
                
                  1
                
              
            
            ]
          
        
        =
        m
        
          
            [
            
              
                
                  
                    x
                  
                
              
              
                
                  1
                
              
            
            ]
          
        
      
    
    {\displaystyle {\begin{bmatrix}\mathbf {y} \\1\end{bmatrix}}=m{\begin{bmatrix}\mathbf {x} \\1\end{bmatrix}}}
  is

  
    
      
        m
        =
        
          
            [
            
              
                
                  
                    
                      y
                    
                    
                      1
                    
                  
                
                
                  ⋯
                
                
                  
                    
                      y
                    
                    
                      n
                      +
                      1
                    
                  
                
              
              
                
                  1
                
                
                  ⋯
                
                
                  1
                
              
            
            ]
          
        
        
          
            
              [
              
                
                  
                    
                      
                        x
                      
                      
                        1
                      
                    
                  
                  
                    ⋯
                  
                  
                    
                      
                        x
                      
                      
                        n
                        +
                        1
                      
                    
                  
                
                
                  
                    1
                  
                  
                    ⋯
                  
                  
                    1
                  
                
              
              ]
            
          
          
            −
            1
          
        
        .
      
    
    {\displaystyle m={\begin{bmatrix}\mathbf {y} _{1}&\cdots &\mathbf {y} _{n+1}\\1&\cdots &1\end{bmatrix}}{\begin{bmatrix}\mathbf {x} _{1}&\cdots &\mathbf {x} _{n+1}\\1&\cdots &1\end{bmatrix}}^{-1}.}
  this formulation works irrespective of whether any of the domain, codomain and image vector spaces have the same number of dimensions.
for example, the affine transformation of a vector plane is uniquely determined from the knowledge of where the three vertices (
  
    
      
        
          
            x
          
          
            1
          
        
        ,
        
          
            x
          
          
            2
          
        
        ,
        
          
            x
          
          
            3
          
        
      
    
    {\displaystyle \mathbf {x} _{1},\mathbf {x} _{2},\mathbf {x} _{3}}
  ) of a non-degenerate triangle are mapped to (
  
    
      
        
          
            y
          
          
            1
          
        
        ,
        
          
            y
          
          
            2
          
        
        ,
        
          
            y
          
          
            3
          
        
      
    
    {\displaystyle \mathbf {y} _{1},\mathbf {y} _{2},\mathbf {y} _{3}}
  ), regardless of the number of dimensions of the codomain and regardless of whether the triangle is non-degenerate in the codomain.


== properties ==


=== properties preserved ===
an affine transformation preserves:

collinearity between points: three or more points which lie on the same line (called collinear points) continue to be collinear after the transformation.
parallelism: two or more lines which are parallel, continue to be parallel after the transformation.
convexity of sets: a convex set continues to be convex after the transformation. moreover, the extreme points of the original set are mapped to the extreme points of the transformed set.
ratios of lengths of parallel line segments: for distinct parallel segments defined by points 
  
    
      
        
          p
          
            1
          
        
      
    
    {\displaystyle p_{1}}
   and 
  
    
      
        
          p
          
            2
          
        
      
    
    {\displaystyle p_{2}}
  , 
  
    
      
        
          p
          
            3
          
        
      
    
    {\displaystyle p_{3}}
   and 
  
    
      
        
          p
          
            4
          
        
      
    
    {\displaystyle p_{4}}
  , the ratio of 
  
    
      
        
          
            
              
                p
                
                  1
                
              
              
                p
                
                  2
                
              
            
            →
          
        
      
    
    {\displaystyle {\overrightarrow {p_{1}p_{2}}}}
   and 
  
    
      
        
          
            
              
                p
                
                  3
                
              
              
                p
                
                  4
                
              
            
            →
          
        
      
    
    {\displaystyle {\overrightarrow {p_{3}p_{4}}}}
   is the same as that of 
  
    
      
        
          
            
              f
              (
              
                p
                
                  1
                
              
              )
              f
              (
              
                p
                
                  2
                
              
              )
            
            →
          
        
      
    
    {\displaystyle {\overrightarrow {f(p_{1})f(p_{2})}}}
   and 
  
    
      
        
          
            
              f
              (
              
                p
                
                  3
                
              
              )
              f
              (
              
                p
                
                  4
                
              
              )
            
            →
          
        
      
    
    {\displaystyle {\overrightarrow {f(p_{3})f(p_{4})}}}
  .
barycenters of weighted collections of points.


=== groups ===
as an affine transformation is invertible, the square matrix  
  
    
      
        a
      
    
    {\displaystyle a}
   appearing in its matrix representation is invertible. the matrix representation of the inverse transformation is thus

  
    
      
        
          [
          
            
              
                
                
                  
                    a
                    
                      −
                      1
                    
                  
                
                
                
                  −
                  
                    a
                    
                      −
                      1
                    
                  
                  
                    
                      
                        b
                        →
                      
                    
                  
                   
                
              
              
                
                  0
                
                
                  …
                
                
                  0
                
                
                  1
                
              
            
          
          ]
        
        .
      
    
    {\displaystyle \left[{\begin{array}{ccc|c}&a^{-1}&&-a^{-1}{\vec {b}}\ \\0&\ldots &0&1\end{array}}\right].}
  the invertible affine transformations (of an affine space onto itself) form the affine group, which has the general linear group of degree 
  
    
      
        n
      
    
    {\displaystyle n}
   as subgroup and is itself a subgroup of the general linear group of degree 
  
    
      
        n
        +
        1
      
    
    {\displaystyle n+1}
  .
the similarity transformations form the subgroup where 
  
    
      
        a
      
    
    {\displaystyle a}
   is a scalar times an orthogonal matrix. for example, if the affine transformation acts on the plane and if the determinant of 
  
    
      
        a
      
    
    {\displaystyle a}
   is 1 or −1 then the transformation is an equiareal mapping. such transformations form a subgroup called the equi-affine group. a transformation that is both equi-affine and a similarity is an isometry of the plane taken with euclidean distance.
each of these groups has a subgroup of orientation-preserving or positive affine transformations: those where the determinant of 
  
    
      
        a
      
    
    {\displaystyle a}
   is positive. in the last case this is in 3d the group of rigid transformations (proper rotations and pure translations).
if there is a fixed point, we can take that as the origin, and the affine transformation reduces to a linear transformation. this may make it easier to classify and understand the transformation. for example, describing a transformation as a rotation by a certain angle with respect to a certain axis may give a clearer idea of the overall behavior of the transformation than describing it as a combination of a translation and a rotation. however, this depends on application and context.


== affine maps ==
an affine map 
  
    
      
        f
        :
        
          
            a
          
        
        →
        
          
            b
          
        
      
    
    {\displaystyle f\colon {\mathcal {a}}\to {\mathcal {b}}}
   between two affine spaces is a map on the points that acts linearly on the vectors (that is, the vectors between points of the space). in symbols, 
  
    
      
        f
      
    
    {\displaystyle f}
   determines a linear transformation 
  
    
      
        φ
      
    
    {\displaystyle \varphi }
   such that, for any pair of points 
  
    
      
        p
        ,
        q
        ∈
        
          
            a
          
        
      
    
    {\displaystyle p,q\in {\mathcal {a}}}
  :

  
    
      
        
          
            
              f
              (
              p
              )
               
              f
              (
              q
              )
            
            →
          
        
        =
        φ
        (
        
          
            
              p
              q
            
            →
          
        
        )
      
    
    {\displaystyle {\overrightarrow {f(p)~f(q)}}=\varphi ({\overrightarrow {pq}})}
  or

  
    
      
        f
        (
        q
        )
        −
        f
        (
        p
        )
        =
        φ
        (
        q
        −
        p
        )
      
    
    {\displaystyle f(q)-f(p)=\varphi (q-p)}
  .we can interpret this definition in a few other ways, as follows.
if an origin 
  
    
      
        o
        ∈
        
          
            a
          
        
      
    
    {\displaystyle o\in {\mathcal {a}}}
   is chosen, and 
  
    
      
        b
      
    
    {\displaystyle b}
   denotes its image 
  
    
      
        f
        (
        o
        )
        ∈
        
          
            b
          
        
      
    
    {\displaystyle f(o)\in {\mathcal {b}}}
  , then this means that for any vector 
  
    
      
        
          
            
              x
              →
            
          
        
      
    
    {\displaystyle {\vec {x}}}
  :

  
    
      
        f
        :
        (
        o
        +
        
          
            
              x
              →
            
          
        
        )
        ↦
        (
        b
        +
        φ
        (
        
          
            
              x
              →
            
          
        
        )
        )
      
    
    {\displaystyle f\colon (o+{\vec {x}})\mapsto (b+\varphi ({\vec {x}}))}
  .if an origin 
  
    
      
        
          o
          ′
        
        ∈
        
          
            b
          
        
      
    
    {\displaystyle o'\in {\mathcal {b}}}
   is also chosen, this can be decomposed as an affine transformation 
  
    
      
        g
        :
        
          
            a
          
        
        →
        
          
            b
          
        
      
    
    {\displaystyle g\colon {\mathcal {a}}\to {\mathcal {b}}}
   that sends 
  
    
      
        o
        ↦
        
          o
          ′
        
      
    
    {\displaystyle o\mapsto o'}
  , namely

  
    
      
        g
        :
        (
        o
        +
        
          
            
              x
              →
            
          
        
        )
        ↦
        (
        
          o
          ′
        
        +
        φ
        (
        
          
            
              x
              →
            
          
        
        )
        )
      
    
    {\displaystyle g\colon (o+{\vec {x}})\mapsto (o'+\varphi ({\vec {x}}))}
  ,followed by the translation by a vector 
  
    
      
        
          
            
              b
              →
            
          
        
        =
        
          
            
              
                o
                ′
              
              b
            
            →
          
        
      
    
    {\displaystyle {\vec {b}}={\overrightarrow {o'b}}}
  .
the conclusion is that, intuitively, 
  
    
      
        f
      
    
    {\displaystyle f}
   consists of a translation and a linear map.


=== alternative definition ===
given two affine spaces 
  
    
      
        
          
            a
          
        
      
    
    {\displaystyle {\mathcal {a}}}
   and 
  
    
      
        
          
            b
          
        
      
    
    {\displaystyle {\mathcal {b}}}
  , over the same field, a function 
  
    
      
        f
        :
        
          
            a
          
        
        →
        
          
            b
          
        
      
    
    {\displaystyle f\colon {\mathcal {a}}\to {\mathcal {b}}}
   is an affine map if and only if for every family 
  
    
      
        {
        (
        
          a
          
            i
          
        
        ,
        
          λ
          
            i
          
        
        )
        
          }
          
            i
            ∈
            i
          
        
      
    
    {\displaystyle \{(a_{i},\lambda _{i})\}_{i\in i}}
   of weighted points in 
  
    
      
        
          
            a
          
        
      
    
    {\displaystyle {\mathcal {a}}}
   such that 

  
    
      
        
          ∑
          
            i
            ∈
            i
          
        
        
          λ
          
            i
          
        
        =
        1
      
    
    {\displaystyle \sum _{i\in i}\lambda _{i}=1}
  ,we have

  
    
      
        f
        
          (
          
            
              ∑
              
                i
                ∈
                i
              
            
            
              λ
              
                i
              
            
            
              a
              
                i
              
            
          
          )
        
        =
        
          ∑
          
            i
            ∈
            i
          
        
        
          λ
          
            i
          
        
        f
        (
        
          a
          
            i
          
        
        )
      
    
    {\displaystyle f\left(\sum _{i\in i}\lambda _{i}a_{i}\right)=\sum _{i\in i}\lambda _{i}f(a_{i})}
  .in other words, 
  
    
      
        f
      
    
    {\displaystyle f}
   preserves barycenters.


== history ==
the word "affine" as a mathematical term is defined in connection with tangents to curves in euler's 1748 introductio in analysin infinitorum. felix klein attributes the term "affine transformation" to möbius and gauss.


== image transformation ==
in their applications to digital image processing, the affine transformations are analogous to printing on a sheet of rubber and stretching the sheet's edges parallel to the plane. this transform relocates pixels requiring intensity interpolation to approximate the value of moved pixels, bicubic interpolation is the standard for image transformations in image processing applications. affine transformations scale, rotate, translate, mirror and shear images as shown in the following examples:
the affine transforms are applicable to the registration process where two or more images are aligned (registered). an example of image registration is the generation of panoramic images that are the product of multiple images stitched together.


=== affine warping ===
the affine transform preserves parallel lines. however, the stretching and shearing transformations warp shapes, as the following example shows:

this is an example of image warping. however, the affine transformations do not facilitate projection onto a curved surface or radial distortions.


== in the plane ==
 
affine transformations in two real dimensions include:

pure translations,
scaling in a given direction, with respect to a line in another direction (not necessarily perpendicular), combined with translation that is not purely in the direction of scaling; taking "scaling" in a generalized sense it includes the cases that the scale factor is zero (projection) or negative; the latter includes reflection, and combined with translation it includes glide reflection,
rotation combined with a homothety and a translation,
shear mapping combined with a homothety and a translation, or
squeeze mapping combined with a homothety and a translation.to visualise the general affine transformation of the euclidean plane, take labelled parallelograms abcd and a′b′c′d′. whatever the choices of points, there is an affine transformation t of the plane taking a to a′, and each vertex similarly. supposing we exclude the degenerate case where abcd has zero area, there is a unique such affine transformation t. drawing out a whole grid of parallelograms based on abcd, the image t(p) of any point p is determined by noting that t(a) = a′, t applied to the line segment ab is a′b′, t applied to the line segment ac is a′c′, and t respects scalar multiples of vectors based at a. [if a, e, f are collinear then the ratio length(af)/length(ae) is equal to length(a′f′)/length(a′e′).] geometrically t transforms the grid based on abcd to that based in a′b′c′d′.
affine transformations do not respect lengths or angles; they multiply area by a constant factor

area of a′b′c′d′ / area of abcd.a given t may either be direct (respect orientation), or indirect (reverse orientation), and this may be determined by its effect on signed areas (as defined, for example, by the cross product of vectors).


== examples ==


=== over the real numbers ===
the functions 
  
    
      
        f
        :
        
          r
        
        →
        
          r
        
        ,
        
        f
        (
        x
        )
        =
        m
        x
        +
        c
      
    
    {\displaystyle f\colon \mathbb {r} \to \mathbb {r} ,\;f(x)=mx+c}
   with 
  
    
      
        m
      
    
    {\displaystyle m}
   and 
  
    
      
        c
      
    
    {\displaystyle c}
   in 
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
  , are precisely the affine transformations of the real line.


=== over a finite field ===
the following equation expresses an affine transformation of gf(28) viewed as an 8-dimensional vector space over gf(2), that is used in the crypto-algorithm rijndael (aes):

  
    
      
        {
        
          a
          ′
        
        }
        =
        m
        {
        a
        }
        ⊕
        {
        v
        }
        ,
      
    
    {\displaystyle \{a'\}=m\{a\}\oplus \{v\},}
  for instance, the affine transformation of the element 
  
    
      
        {
        a
        }
        =
        
          y
          
            7
          
        
        +
        
          y
          
            6
          
        
        +
        
          y
          
            3
          
        
        +
        y
        =
        {
        
          11001010
          
            2
          
        
        }
      
    
    {\displaystyle \{a\}=y^{7}+y^{6}+y^{3}+y=\{11001010_{2}\}}
   in big-endian binary notation is calculated as follows:

  
    
      
        
          a
          
            0
          
          ′
        
        =
        
          a
          
            0
          
        
        ⊕
        
          a
          
            4
          
        
        ⊕
        
          a
          
            5
          
        
        ⊕
        
          a
          
            6
          
        
        ⊕
        
          a
          
            7
          
        
        ⊕
        1
        =
        0
        ⊕
        0
        ⊕
        0
        ⊕
        1
        ⊕
        1
        ⊕
        1
        =
        1
      
    
    {\displaystyle a_{0}'=a_{0}\oplus a_{4}\oplus a_{5}\oplus a_{6}\oplus a_{7}\oplus 1=0\oplus 0\oplus 0\oplus 1\oplus 1\oplus 1=1}
  

  
    
      
        
          a
          
            1
          
          ′
        
        =
        
          a
          
            0
          
        
        ⊕
        
          a
          
            1
          
        
        ⊕
        
          a
          
            5
          
        
        ⊕
        
          a
          
            6
          
        
        ⊕
        
          a
          
            7
          
        
        ⊕
        1
        =
        0
        ⊕
        1
        ⊕
        0
        ⊕
        1
        ⊕
        1
        ⊕
        1
        =
        0
      
    
    {\displaystyle a_{1}'=a_{0}\oplus a_{1}\oplus a_{5}\oplus a_{6}\oplus a_{7}\oplus 1=0\oplus 1\oplus 0\oplus 1\oplus 1\oplus 1=0}
  

  
    
      
        
          a
          
            2
          
          ′
        
        =
        
          a
          
            0
          
        
        ⊕
        
          a
          
            1
          
        
        ⊕
        
          a
          
            2
          
        
        ⊕
        
          a
          
            6
          
        
        ⊕
        
          a
          
            7
          
        
        ⊕
        0
        =
        0
        ⊕
        1
        ⊕
        0
        ⊕
        1
        ⊕
        1
        ⊕
        0
        =
        1
      
    
    {\displaystyle a_{2}'=a_{0}\oplus a_{1}\oplus a_{2}\oplus a_{6}\oplus a_{7}\oplus 0=0\oplus 1\oplus 0\oplus 1\oplus 1\oplus 0=1}
  

  
    
      
        
          a
          
            3
          
          ′
        
        =
        
          a
          
            0
          
        
        ⊕
        
          a
          
            1
          
        
        ⊕
        
          a
          
            2
          
        
        ⊕
        
          a
          
            3
          
        
        ⊕
        
          a
          
            7
          
        
        ⊕
        0
        =
        0
        ⊕
        1
        ⊕
        0
        ⊕
        1
        ⊕
        1
        ⊕
        0
        =
        1
      
    
    {\displaystyle a_{3}'=a_{0}\oplus a_{1}\oplus a_{2}\oplus a_{3}\oplus a_{7}\oplus 0=0\oplus 1\oplus 0\oplus 1\oplus 1\oplus 0=1}
  

  
    
      
        
          a
          
            4
          
          ′
        
        =
        
          a
          
            0
          
        
        ⊕
        
          a
          
            1
          
        
        ⊕
        
          a
          
            2
          
        
        ⊕
        
          a
          
            3
          
        
        ⊕
        
          a
          
            4
          
        
        ⊕
        0
        =
        0
        ⊕
        1
        ⊕
        0
        ⊕
        1
        ⊕
        0
        ⊕
        0
        =
        0
      
    
    {\displaystyle a_{4}'=a_{0}\oplus a_{1}\oplus a_{2}\oplus a_{3}\oplus a_{4}\oplus 0=0\oplus 1\oplus 0\oplus 1\oplus 0\oplus 0=0}
  

  
    
      
        
          a
          
            5
          
          ′
        
        =
        
          a
          
            1
          
        
        ⊕
        
          a
          
            2
          
        
        ⊕
        
          a
          
            3
          
        
        ⊕
        
          a
          
            4
          
        
        ⊕
        
          a
          
            5
          
        
        ⊕
        1
        =
        1
        ⊕
        0
        ⊕
        1
        ⊕
        0
        ⊕
        0
        ⊕
        1
        =
        1
      
    
    {\displaystyle a_{5}'=a_{1}\oplus a_{2}\oplus a_{3}\oplus a_{4}\oplus a_{5}\oplus 1=1\oplus 0\oplus 1\oplus 0\oplus 0\oplus 1=1}
  

  
    
      
        
          a
          
            6
          
          ′
        
        =
        
          a
          
            2
          
        
        ⊕
        
          a
          
            3
          
        
        ⊕
        
          a
          
            4
          
        
        ⊕
        
          a
          
            5
          
        
        ⊕
        
          a
          
            6
          
        
        ⊕
        1
        =
        0
        ⊕
        1
        ⊕
        0
        ⊕
        0
        ⊕
        1
        ⊕
        1
        =
        1
      
    
    {\displaystyle a_{6}'=a_{2}\oplus a_{3}\oplus a_{4}\oplus a_{5}\oplus a_{6}\oplus 1=0\oplus 1\oplus 0\oplus 0\oplus 1\oplus 1=1}
  

  
    
      
        
          a
          
            7
          
          ′
        
        =
        
          a
          
            3
          
        
        ⊕
        
          a
          
            4
          
        
        ⊕
        
          a
          
            5
          
        
        ⊕
        
          a
          
            6
          
        
        ⊕
        
          a
          
            7
          
        
        ⊕
        0
        =
        1
        ⊕
        0
        ⊕
        0
        ⊕
        1
        ⊕
        1
        ⊕
        0
        =
        1.
      
    
    {\displaystyle a_{7}'=a_{3}\oplus a_{4}\oplus a_{5}\oplus a_{6}\oplus a_{7}\oplus 0=1\oplus 0\oplus 0\oplus 1\oplus 1\oplus 0=1.}
  thus, 
  
    
      
        {
        
          a
          ′
        
        }
        =
        
          y
          
            7
          
        
        +
        
          y
          
            6
          
        
        +
        
          y
          
            5
          
        
        +
        
          y
          
            3
          
        
        +
        
          y
          
            2
          
        
        +
        1
        =
        {
        
          11101101
          
            2
          
        
        }
      
    
    {\displaystyle \{a'\}=y^{7}+y^{6}+y^{5}+y^{3}+y^{2}+1=\{11101101_{2}\}}
  .


=== in plane geometry ===

in 
  
    
      
        
          
            r
          
          
            2
          
        
      
    
    {\displaystyle \mathbb {r} ^{2}}
  , the transformation shown at left is accomplished using the map given by:

  
    
      
        
          
            [
            
              
                
                  x
                
              
              
                
                  y
                
              
            
            ]
          
        
        ↦
        
          
            [
            
              
                
                  0
                
                
                  1
                
              
              
                
                  2
                
                
                  1
                
              
            
            ]
          
        
        
          
            [
            
              
                
                  x
                
              
              
                
                  y
                
              
            
            ]
          
        
        +
        
          
            [
            
              
                
                  −
                  100
                
              
              
                
                  −
                  100
                
              
            
            ]
          
        
      
    
    {\displaystyle {\begin{bmatrix}x\\y\end{bmatrix}}\mapsto {\begin{bmatrix}0&1\\2&1\end{bmatrix}}{\begin{bmatrix}x\\y\end{bmatrix}}+{\begin{bmatrix}-100\\-100\end{bmatrix}}}
  transforming the three corner points of the original triangle (in red) gives three new points which form the new triangle (in blue).  this transformation skews and translates the original triangle.
in fact, all triangles are related to one another by affine transformations. this is also true for all parallelograms, but not for all quadrilaterals.


== see also ==
anamorphosis – artistic applications of affine transformations
affine geometry
3d projection
homography
flat (geometry)
bent function


== notes ==


== references ==
berger, marcel (1987), geometry i, berlin: springer, isbn 3-540-11658-3
brannan, david a.; esplen, matthew f.; gray, jeremy j. (1999), geometry, cambridge university press, isbn 978-0-521-59787-6
nomizu, katsumi; sasaki, s. (1994), affine differential geometry (new ed.), cambridge university press, isbn 978-0-521-44177-3
klein, felix (1948) [1939], elementary mathematics from an advanced standpoint: geometry, dover
samuel, pierre (1988), projective geometry, springer-verlag, isbn 0-387-96752-4
sharpe, r. w. (1997). differential geometry: cartan's generalization of klein's erlangen program. new york: springer. isbn 0-387-94732-9.
snapper, ernst; troyer, robert j. (1989) [1971], metric affine geometry, dover, isbn 978-0-486-66108-7
wan, zhe-xian (1993), geometry of classical groups over finite fields, chartwell-bratt, isbn 0-86238-326-9


== external links ==
 media related to affine transformation at wikimedia commons
"affine transformation", encyclopedia of mathematics, ems press, 2001 [1994]
geometric operations: affine transform, r. fisher, s. perkins, a. walker and e. wolfart.
weisstein, eric w. "affine transformation". mathworld.
affine transform by bernard vuilleumier, wolfram demonstrations project.
affine transformation with matlab