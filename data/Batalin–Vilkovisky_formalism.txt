in theoretical physics, the batalin–vilkovisky (bv) formalism (named for igor batalin and grigori vilkovisky) was developed as a method for determining the ghost structure for lagrangian gauge theories, such as gravity and supergravity, whose corresponding hamiltonian formulation has constraints not related to a lie algebra (i.e., the role of lie algebra structure constants are played by more general structure functions). the bv formalism, based on an action that contains both fields and "antifields", can be thought of as a vast generalization of the original brst formalism for pure yang–mills theory to an arbitrary lagrangian gauge theory. other names for the batalin–vilkovisky formalism are field-antifield formalism, lagrangian brst formalism, or bv–brst formalism. it should not be confused with the batalin–fradkin–vilkovisky (bfv) formalism, which is the hamiltonian counterpart.


== batalin–vilkovisky algebras ==
in mathematics, a batalin–vilkovisky algebra is a graded supercommutative algebra (with a unit 1) with a second-order nilpotent operator δ of degree −1. more precisely, it satisfies the identities

  
    
      
        
          |
        
        a
        b
        
          |
        
        =
        
          |
        
        a
        
          |
        
        +
        
          |
        
        b
        
          |
        
      
    
    {\displaystyle |ab|=|a|+|b|}
     (the product has degree 0)

  
    
      
        
          |
        
        δ
        (
        a
        )
        
          |
        
        =
        
          |
        
        a
        
          |
        
        −
        1
      
    
    {\displaystyle |\delta (a)|=|a|-1}
    (δ has degree −1)

  
    
      
        (
        a
        b
        )
        c
        =
        a
        (
        b
        c
        )
      
    
    {\displaystyle (ab)c=a(bc)}
    (the product is associative)

  
    
      
        a
        b
        =
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
            
              |
            
            b
            
              |
            
          
        
        b
        a
      
    
    {\displaystyle ab=(-1)^{|a||b|}ba}
      (the product is (super-)commutative)

  
    
      
        
          δ
          
            2
          
        
        =
        0
      
    
    {\displaystyle \delta ^{2}=0}
   (nilpotency (of order 2))

  
    
      
        δ
        (
        a
        b
        c
        )
        −
        δ
        (
        a
        b
        )
        c
        +
        δ
        (
        a
        )
        b
        c
        −
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
          
        
        a
        δ
        (
        b
        c
        )
        −
        (
        −
        1
        
          )
          
            (
            
              |
            
            a
            
              |
            
            +
            1
            )
            
              |
            
            b
            
              |
            
          
        
        b
        δ
        (
        a
        c
        )
        +
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
          
        
        a
        δ
        (
        b
        )
        c
        +
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
            +
            
              |
            
            b
            
              |
            
          
        
        a
        b
        δ
        (
        c
        )
        −
        δ
        (
        1
        )
        a
        b
        c
        =
        0
      
    
    {\displaystyle \delta (abc)-\delta (ab)c+\delta (a)bc-(-1)^{|a|}a\delta (bc)-(-1)^{(|a|+1)|b|}b\delta (ac)+(-1)^{|a|}a\delta (b)c+(-1)^{|a|+|b|}ab\delta (c)-\delta (1)abc=0}
  (the δ operator is of second order)one often also requires normalization:

  
    
      
        δ
        (
        1
        )
        =
        0
      
    
    {\displaystyle \delta (1)=0}
   (normalization)


== antibracket ==
a batalin–vilkovisky algebra becomes a gerstenhaber algebra if one defines the gerstenhaber bracket by

  
    
      
        (
        a
        ,
        b
        )
        :=
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        δ
        (
        a
        b
        )
        −
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        δ
        (
        a
        )
        b
        −
        a
        δ
        (
        b
        )
        +
        a
        δ
        (
        1
        )
        b
        .
      
    
    {\displaystyle (a,b):=(-1)^{\left|a\right|}\delta (ab)-(-1)^{\left|a\right|}\delta (a)b-a\delta (b)+a\delta (1)b.}
  other names for the gerstenhaber bracket are buttin bracket, antibracket, or odd poisson bracket. the antibracket satisfies

  
    
      
        
          |
        
        (
        a
        ,
        b
        )
        
          |
        
        =
        
          |
        
        a
        
          |
        
        +
        
          |
        
        b
        
          |
        
        −
        1
      
    
    {\displaystyle |(a,b)|=|a|+|b|-1}
   (the antibracket (,) has degree −1)

  
    
      
        (
        a
        ,
        b
        )
        =
        −
        (
        −
        1
        
          )
          
            (
            
              |
            
            a
            
              |
            
            +
            1
            )
            (
            
              |
            
            b
            
              |
            
            +
            1
            )
          
        
        (
        b
        ,
        a
        )
      
    
    {\displaystyle (a,b)=-(-1)^{(|a|+1)(|b|+1)}(b,a)}
       (skewsymmetry)

  
    
      
        (
        −
        1
        
          )
          
            (
            
              |
            
            a
            
              |
            
            +
            1
            )
            (
            
              |
            
            c
            
              |
            
            +
            1
            )
          
        
        (
        a
        ,
        (
        b
        ,
        c
        )
        )
        +
        (
        −
        1
        
          )
          
            (
            
              |
            
            b
            
              |
            
            +
            1
            )
            (
            
              |
            
            a
            
              |
            
            +
            1
            )
          
        
        (
        b
        ,
        (
        c
        ,
        a
        )
        )
        +
        (
        −
        1
        
          )
          
            (
            
              |
            
            c
            
              |
            
            +
            1
            )
            (
            
              |
            
            b
            
              |
            
            +
            1
            )
          
        
        (
        c
        ,
        (
        a
        ,
        b
        )
        )
        =
        0
      
    
    {\displaystyle (-1)^{(|a|+1)(|c|+1)}(a,(b,c))+(-1)^{(|b|+1)(|a|+1)}(b,(c,a))+(-1)^{(|c|+1)(|b|+1)}(c,(a,b))=0}
   (the jacobi identity)

  
    
      
        (
        a
        b
        ,
        c
        )
        =
        a
        (
        b
        ,
        c
        )
        +
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
            
              |
            
            b
            
              |
            
          
        
        b
        (
        a
        ,
        c
        )
      
    
    {\displaystyle (ab,c)=a(b,c)+(-1)^{|a||b|}b(a,c)}
       (the poisson property;the leibniz rule)


== odd laplacian ==
the normalized operator is defined as

  
    
      
        
          
            δ
          
          
            ρ
          
        
        :=
        δ
        −
        δ
        (
        1
        )
        .
      
    
    {\displaystyle {\delta }_{\rho }:=\delta -\delta (1).}
  it is often called the odd laplacian, in particular in the context of odd poisson geometry. it "differentiates" the antibracket

  
    
      
        
          
            δ
          
          
            ρ
          
        
        (
        a
        ,
        b
        )
        =
        (
        
          
            δ
          
          
            ρ
          
        
        (
        a
        )
        ,
        b
        )
        −
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        (
        a
        ,
        
          
            δ
          
          
            ρ
          
        
        (
        b
        )
        )
      
    
    {\displaystyle {\delta }_{\rho }(a,b)=({\delta }_{\rho }(a),b)-(-1)^{\left|a\right|}(a,{\delta }_{\rho }(b))}
          (the 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   operator  differentiates (,))the square 
  
    
      
        
          
            δ
          
          
            ρ
          
          
            2
          
        
        =
        (
        δ
        (
        1
        )
        ,
        ⋅
        )
      
    
    {\displaystyle {\delta }_{\rho }^{2}=(\delta (1),\cdot )}
   of the normalized 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   operator is a hamiltonian vector field with odd hamiltonian δ(1)

  
    
      
        
          
            δ
          
          
            ρ
          
          
            2
          
        
        (
        a
        b
        )
        =
        
          
            δ
          
          
            ρ
          
          
            2
          
        
        (
        a
        )
        b
        +
        a
        
          
            δ
          
          
            ρ
          
          
            2
          
        
        (
        b
        )
      
    
    {\displaystyle {\delta }_{\rho }^{2}(ab)={\delta }_{\rho }^{2}(a)b+a{\delta }_{\rho }^{2}(b)}
         (the leibniz rule)which is also known as the modular vector field. assuming normalization δ(1)=0, the odd laplacian 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   is just the δ operator, and the modular vector field 
  
    
      
        
          
            δ
          
          
            ρ
          
          
            2
          
        
      
    
    {\displaystyle {\delta }_{\rho }^{2}}
   vanishes.


== compact formulation in terms of nested commutators ==
if one introduces the left multiplication operator 
  
    
      
        
          l
          
            a
          
        
      
    
    {\displaystyle l_{a}}
   as 

  
    
      
        
          l
          
            a
          
        
        (
        b
        )
        :=
        a
        b
        ,
      
    
    {\displaystyle l_{a}(b):=ab,}
  and the supercommutator [,] as 

  
    
      
        [
        s
        ,
        t
        ]
        :=
        s
        t
        −
        (
        −
        1
        
          )
          
            
              |
              s
              |
            
            
              |
              t
              |
            
          
        
        t
        s
      
    
    {\displaystyle [s,t]:=st-(-1)^{\left|s\right|\left|t\right|}ts}
  for two arbitrary operators s and t, then the definition of the antibracket may be written compactly as

  
    
      
        (
        a
        ,
        b
        )
        :=
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        [
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        ,
        
          l
          
            b
          
        
        ]
        1
        ,
      
    
    {\displaystyle (a,b):=(-1)^{\left|a\right|}[[\delta ,l_{a}],l_{b}]1,}
  and the second order condition for δ may be written compactly as

  
    
      
        [
        [
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        ,
        
          l
          
            b
          
        
        ]
        ,
        
          l
          
            c
          
        
        ]
        1
        =
        0
      
    
    {\displaystyle [[[\delta ,l_{a}],l_{b}],l_{c}]1=0}
      (the δ operator is of second order)where it is understood that the pertinent operator acts on the unit element 1. in other words, 
  
    
      
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
      
    
    {\displaystyle [\delta ,l_{a}]}
   is a first-order (affine) operator, and 
  
    
      
        [
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        ,
        
          l
          
            b
          
        
        ]
      
    
    {\displaystyle [[\delta ,l_{a}],l_{b}]}
   is a zeroth-order operator.


== master equation ==
the classical master equation for an even degree element s (called the action) of a batalin–vilkovisky algebra is the equation

  
    
      
        (
        s
        ,
        s
        )
        =
        0.
      
    
    {\displaystyle (s,s)=0.}
  the quantum master equation for an even degree element w of a batalin–vilkovisky algebra is the equation

  
    
      
        δ
        exp
        ⁡
        
          [
          
            
              
                i
                ℏ
              
            
            w
          
          ]
        
        =
        0
        ,
      
    
    {\displaystyle \delta \exp \left[{\frac {i}{\hbar }}w\right]=0,}
  or equivalently,

  
    
      
        
          
            1
            2
          
        
        (
        w
        ,
        w
        )
        =
        i
        ℏ
        
          
            δ
          
          
            ρ
          
        
        (
        w
        )
        +
        
          ℏ
          
            2
          
        
        δ
        (
        1
        )
        .
      
    
    {\displaystyle {\frac {1}{2}}(w,w)=i\hbar {\delta }_{\rho }(w)+\hbar ^{2}\delta (1).}
  assuming normalization δ(1) = 0, the quantum master equation reads

  
    
      
        
          
            1
            2
          
        
        (
        w
        ,
        w
        )
        =
        i
        ℏ
        δ
        (
        w
        )
        .
      
    
    {\displaystyle {\frac {1}{2}}(w,w)=i\hbar \delta (w).}
  


== generalized bv algebras ==
in the definition of a generalized bv algebra, one drops the second-order assumption for δ. one may then define an infinite hierarchy of higher brackets of degree −1

  
    
      
        
          φ
          
            n
          
        
        (
        
          a
          
            1
          
        
        ,
        …
        ,
        
          a
          
            n
          
        
        )
        :=
        
          
            
              
                [
                [
                …
                [
                δ
                ,
                
                  l
                  
                    
                      a
                      
                        1
                      
                    
                  
                
                ]
                ,
                …
                ]
                ,
                
                  l
                  
                    
                      a
                      
                        n
                      
                    
                  
                
                ]
              
              ⏟
            
          
          
            n
             
            
              
                n
                e
                s
                t
                e
                d
                 
                c
                o
                m
                m
                u
                t
                a
                t
                o
                r
                s
              
            
          
        
        1.
      
    
    {\displaystyle \phi ^{n}(a_{1},\ldots ,a_{n}):=\underbrace {[[\ldots [\delta ,l_{a_{1}}],\ldots ],l_{a_{n}}]} _{n~{\rm {nested~commutators}}}1.}
  the brackets are (graded) symmetric

  
    
      
        
          φ
          
            n
          
        
        (
        
          a
          
            π
            (
            1
            )
          
        
        ,
        …
        ,
        
          a
          
            π
            (
            n
            )
          
        
        )
        =
        (
        −
        1
        
          )
          
            
              |
              
                a
                
                  π
                
              
              |
            
          
        
        
          φ
          
            n
          
        
        (
        
          a
          
            1
          
        
        ,
        …
        ,
        
          a
          
            n
          
        
        )
      
    
    {\displaystyle \phi ^{n}(a_{\pi (1)},\ldots ,a_{\pi (n)})=(-1)^{\left|a_{\pi }\right|}\phi ^{n}(a_{1},\ldots ,a_{n})}
    (symmetric brackets)where 
  
    
      
        π
        ∈
        
          s
          
            n
          
        
      
    
    {\displaystyle \pi \in s_{n}}
   is a permutation, and 
  
    
      
        (
        −
        1
        
          )
          
            
              |
              
                a
                
                  π
                
              
              |
            
          
        
      
    
    {\displaystyle (-1)^{\left|a_{\pi }\right|}}
   is the koszul sign of the permutation 

  
    
      
        
          a
          
            π
            (
            1
            )
          
        
        …
        
          a
          
            π
            (
            n
            )
          
        
        =
        (
        −
        1
        
          )
          
            
              |
              
                a
                
                  π
                
              
              |
            
          
        
        
          a
          
            1
          
        
        …
        
          a
          
            n
          
        
      
    
    {\displaystyle a_{\pi (1)}\ldots a_{\pi (n)}=(-1)^{\left|a_{\pi }\right|}a_{1}\ldots a_{n}}
  .the brackets constitute a homotopy lie algebra, also known as an 
  
    
      
        
          l
          
            ∞
          
        
      
    
    {\displaystyle l_{\infty }}
   algebra, which satisfies generalized jacobi identities 

  
    
      
        
          ∑
          
            k
            =
            0
          
          
            n
          
        
        
          
            1
            
              k
              !
              (
              n
              
              −
              
              k
              )
              !
            
          
        
        
          ∑
          
            π
            ∈
            
              s
              
                n
              
            
          
        
        (
        −
        1
        
          )
          
            
              |
              
                a
                
                  π
                
              
              |
            
          
        
        
          φ
          
            n
            −
            k
            +
            1
          
        
        
          (
          
            
              φ
              
                k
              
            
            (
            
              a
              
                π
                (
                1
                )
              
            
            ,
            …
            ,
            
              a
              
                π
                (
                k
                )
              
            
            )
            ,
            
              a
              
                π
                (
                k
                +
                1
                )
              
            
            ,
            …
            ,
            
              a
              
                π
                (
                n
                )
              
            
          
          )
        
        =
        0.
      
    
    {\displaystyle \sum _{k=0}^{n}{\frac {1}{k!(n\!-\!k)!}}\sum _{\pi \in s_{n}}(-1)^{\left|a_{\pi }\right|}\phi ^{n-k+1}\left(\phi ^{k}(a_{\pi (1)},\ldots ,a_{\pi (k)}),a_{\pi (k+1)},\ldots ,a_{\pi (n)}\right)=0.}
    (generalized jacobi identities)the first few brackets are:

  
    
      
        
          φ
          
            0
          
        
        :=
        δ
        (
        1
        )
      
    
    {\displaystyle \phi ^{0}:=\delta (1)}
        (the zero-bracket)

  
    
      
        
          φ
          
            1
          
        
        (
        a
        )
        :=
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        1
        =
        δ
        (
        a
        )
        −
        δ
        (
        1
        )
        a
        =:
        
          
            δ
          
          
            ρ
          
        
        (
        a
        )
      
    
    {\displaystyle \phi ^{1}(a):=[\delta ,l_{a}]1=\delta (a)-\delta (1)a=:{\delta }_{\rho }(a)}
      (the one-bracket)

  
    
      
        
          φ
          
            2
          
        
        (
        a
        ,
        b
        )
        :=
        [
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        ,
        
          l
          
            b
          
        
        ]
        1
        =:
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        (
        a
        ,
        b
        )
      
    
    {\displaystyle \phi ^{2}(a,b):=[[\delta ,l_{a}],l_{b}]1=:(-1)^{\left|a\right|}(a,b)}
      (the two-bracket)

  
    
      
        
          φ
          
            3
          
        
        (
        a
        ,
        b
        ,
        c
        )
        :=
        [
        [
        [
        δ
        ,
        
          l
          
            a
          
        
        ]
        ,
        
          l
          
            b
          
        
        ]
        ,
        
          l
          
            c
          
        
        ]
        1
      
    
    {\displaystyle \phi ^{3}(a,b,c):=[[[\delta ,l_{a}],l_{b}],l_{c}]1}
      (the three-bracket)

  
    
      
        ⋮
      
    
    {\displaystyle \vdots }
  in particular, the one-bracket 
  
    
      
        
          φ
          
            1
          
        
        =
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle \phi ^{1}={\delta }_{\rho }}
   is the odd laplacian, and the two-bracket 
  
    
      
        
          φ
          
            2
          
        
      
    
    {\displaystyle \phi ^{2}}
   is the antibracket up to a sign. the first few generalized jacobi identities are:

  
    
      
        
          φ
          
            1
          
        
        (
        
          φ
          
            0
          
        
        )
        =
        0
      
    
    {\displaystyle \phi ^{1}(\phi ^{0})=0}
    (
  
    
      
        δ
        (
        1
        )
      
    
    {\displaystyle \delta (1)}
    is 
  
    
      
        
          δ
          
            ρ
          
        
      
    
    {\displaystyle \delta _{\rho }}
  -closed)

  
    
      
        
          φ
          
            2
          
        
        (
        
          φ
          
            0
          
        
        ,
        a
        )
        +
        
          φ
          
            1
          
        
        
          (
          
            
              φ
              
                1
              
            
            (
            a
            )
          
          )
        
      
    
    {\displaystyle \phi ^{2}(\phi ^{0},a)+\phi ^{1}\left(\phi ^{1}(a)\right)}
    (
  
    
      
        δ
        (
        1
        )
      
    
    {\displaystyle \delta (1)}
    is the hamiltonian for the modular vector field 
  
    
      
        
          
            δ
          
          
            ρ
          
          
            2
          
        
      
    
    {\displaystyle {\delta }_{\rho }^{2}}
  )

  
    
      
        
          φ
          
            3
          
        
        (
        
          φ
          
            0
          
        
        ,
        a
        ,
        b
        )
        +
        
          φ
          
            2
          
        
        
          (
          
            
              φ
              
                1
              
            
            (
            a
            )
            ,
            b
          
          )
        
        +
        (
        −
        1
        
          )
          
            
              |
            
            a
            
              |
            
          
        
        
          φ
          
            2
          
        
        
          (
          
            a
            ,
            
              φ
              
                1
              
            
            (
            b
            )
          
          )
        
        +
        
          φ
          
            1
          
        
        
          (
          
            
              φ
              
                2
              
            
            (
            a
            ,
            b
            )
          
          )
        
        =
        0
      
    
    {\displaystyle \phi ^{3}(\phi ^{0},a,b)+\phi ^{2}\left(\phi ^{1}(a),b\right)+(-1)^{|a|}\phi ^{2}\left(a,\phi ^{1}(b)\right)+\phi ^{1}\left(\phi ^{2}(a,b)\right)=0}
    (the 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   operator differentiates (,) generalized)

  
    
      
        
          φ
          
            4
          
        
        (
        
          φ
          
            0
          
        
        ,
        a
        ,
        b
        ,
        c
        )
        +
        
          
            j
            a
            c
          
        
        (
        a
        ,
        b
        ,
        c
        )
        +
        
          φ
          
            1
          
        
        
          (
          
            
              φ
              
                3
              
            
            (
            a
            ,
            b
            ,
            c
            )
          
          )
        
        +
        
          φ
          
            3
          
        
        
          (
          
            
              φ
              
                1
              
            
            (
            a
            )
            ,
            b
            ,
            c
          
          )
        
        +
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
          
        
        
          φ
          
            3
          
        
        
          (
          
            a
            ,
            
              φ
              
                1
              
            
            (
            b
            )
            ,
            c
          
          )
        
        +
        (
        −
        1
        
          )
          
            
              |
              a
              |
            
            +
            
              |
              b
              |
            
          
        
        
          φ
          
            3
          
        
        
          (
          
            a
            ,
            b
            ,
            
              φ
              
                1
              
            
            (
            c
            )
          
          )
        
        =
        0
      
    
    {\displaystyle \phi ^{4}(\phi ^{0},a,b,c)+{\rm {jac}}(a,b,c)+\phi ^{1}\left(\phi ^{3}(a,b,c)\right)+\phi ^{3}\left(\phi ^{1}(a),b,c\right)+(-1)^{\left|a\right|}\phi ^{3}\left(a,\phi ^{1}(b),c\right)+(-1)^{\left|a\right|+\left|b\right|}\phi ^{3}\left(a,b,\phi ^{1}(c)\right)=0}
    (the generalized jacobi identity)

  
    
      
        ⋮
      
    
    {\displaystyle \vdots }
  where the jacobiator for the two-bracket 
  
    
      
        
          φ
          
            2
          
        
      
    
    {\displaystyle \phi ^{2}}
   is defined as

  
    
      
        
          
            j
            a
            c
          
        
        (
        
          a
          
            1
          
        
        ,
        
          a
          
            2
          
        
        ,
        
          a
          
            3
          
        
        )
        :=
        
          
            1
            2
          
        
        
          ∑
          
            π
            ∈
            
              s
              
                3
              
            
          
        
        (
        −
        1
        
          )
          
            
              |
              
                a
                
                  π
                
              
              |
            
          
        
        
          φ
          
            2
          
        
        
          (
          
            
              φ
              
                2
              
            
            (
            
              a
              
                π
                (
                1
                )
              
            
            ,
            
              a
              
                π
                (
                2
                )
              
            
            )
            ,
            
              a
              
                π
                (
                3
                )
              
            
          
          )
        
        .
      
    
    {\displaystyle {\rm {jac}}(a_{1},a_{2},a_{3}):={\frac {1}{2}}\sum _{\pi \in s_{3}}(-1)^{\left|a_{\pi }\right|}\phi ^{2}\left(\phi ^{2}(a_{\pi (1)},a_{\pi (2)}),a_{\pi (3)}\right).}
  


== bv n-algebras ==
the δ operator is by definition of n'th order if and only if the (n + 1)-bracket 
  
    
      
        
          φ
          
            n
            +
            1
          
        
      
    
    {\displaystyle \phi ^{n+1}}
   vanishes. in that case, one speaks of a bv n-algebra. thus a bv 2-algebra is by definition just a bv algebra. the jacobiator 
  
    
      
        
          
            j
            a
            c
          
        
        (
        a
        ,
        b
        ,
        c
        )
        =
        0
      
    
    {\displaystyle {\rm {jac}}(a,b,c)=0}
   vanishes within a bv algebra, which means that the antibracket here satisfies the jacobi identity. a bv 1-algebra that satisfies normalization δ(1) = 0 is the same as a differential graded algebra (dga) with differential δ. a bv 1-algebra has vanishing antibracket.


== odd poisson manifold with volume density ==
let there be given an (n|n) supermanifold with an odd poisson bi-vector 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   and a berezin volume density 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
  , also known as a p-structure and an s-structure, respectively. let the local coordinates be called 
  
    
      
        
          x
          
            i
          
        
      
    
    {\displaystyle x^{i}}
  . let the derivatives 
  
    
      
        
          ∂
          
            i
          
        
        f
      
    
    {\displaystyle \partial _{i}f}
   and 

  
    
      
        f
        
          
            
              
                
                  ∂
                
                
                  ←
                
              
            
          
          
            i
          
        
        :=
        (
        −
        1
        
          )
          
            
              |
              
                x
                
                  i
                
              
              |
            
            (
            
              |
            
            f
            
              |
            
            +
            1
            )
          
        
        
          ∂
          
            i
          
        
        f
      
    
    {\displaystyle f{\stackrel {\leftarrow }{\partial }}_{i}:=(-1)^{\left|x^{i}\right|(|f|+1)}\partial _{i}f}
  denote the left and right derivative of a function f wrt. 
  
    
      
        
          x
          
            i
          
        
      
    
    {\displaystyle x^{i}}
  , respectively. the odd poisson bi-vector 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   satisfies more precisely

  
    
      
        
          |
          
            π
            
              i
              j
            
          
          |
        
        =
        
          |
          
            x
            
              i
            
          
          |
        
        +
        
          |
          
            x
            
              j
            
          
          |
        
        −
        1
      
    
    {\displaystyle \left|\pi ^{ij}\right|=\left|x^{i}\right|+\left|x^{j}\right|-1}
     (the odd poisson structure has degree –1)

  
    
      
        
          π
          
            j
            i
          
        
        =
        −
        (
        −
        1
        
          )
          
            (
            
              |
              
                x
                
                  i
                
              
              |
            
            +
            1
            )
            (
            
              |
              
                x
                
                  j
                
              
              |
            
            +
            1
            )
          
        
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ji}=-(-1)^{(\left|x^{i}\right|+1)(\left|x^{j}\right|+1)}\pi ^{ij}}
         (skewsymmetry)

  
    
      
        (
        −
        1
        
          )
          
            (
            
              |
              
                x
                
                  i
                
              
              |
            
            +
            1
            )
            (
            
              |
              
                x
                
                  k
                
              
              |
            
            +
            1
            )
          
        
        
          π
          
            i
            ℓ
          
        
        
          ∂
          
            ℓ
          
        
        
          π
          
            j
            k
          
        
        +
        
          
            c
            y
            c
            l
            i
            c
          
        
        (
        i
        ,
        j
        ,
        k
        )
        =
        0
      
    
    {\displaystyle (-1)^{(\left|x^{i}\right|+1)(\left|x^{k}\right|+1)}\pi ^{i\ell }\partial _{\ell }\pi ^{jk}+{\rm {cyclic}}(i,j,k)=0}
      (the jacobi identity)under change of coordinates 
  
    
      
        
          x
          
            i
          
        
        →
        
          x
          
            ′
            i
          
        
      
    
    {\displaystyle x^{i}\to x^{\prime i}}
   the odd poisson bi-vector 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   
and berezin volume density 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
   transform as

  
    
      
        
          π
          
            ′
            k
            ℓ
          
        
        =
        
          x
          
            ′
            k
          
        
        
          
            
              
                
                  ∂
                
                
                  ←
                
              
            
          
          
            i
          
        
        
          π
          
            i
            j
          
        
        
          ∂
          
            j
          
        
        
          x
          
            ′
            ℓ
          
        
      
    
    {\displaystyle \pi ^{\prime k\ell }=x^{\prime k}{\stackrel {\leftarrow }{\partial }}_{i}\pi ^{ij}\partial _{j}x^{\prime \ell }}
  

  
    
      
        
          ρ
          
            ′
          
        
        =
        ρ
        
          /
        
        
          
            s
            d
            e
            t
          
        
        (
        
          ∂
          
            i
          
        
        
          x
          
            ′
            j
          
        
        )
      
    
    {\displaystyle \rho ^{\prime }=\rho /{\rm {sdet}}(\partial _{i}x^{\prime j})}
  where sdet denotes the superdeterminant, also known as the berezinian.
then the odd poisson bracket is defined as

  
    
      
        (
        f
        ,
        g
        )
        :=
        f
        
          
            
              
                
                  ∂
                
                
                  ←
                
              
            
          
          
            i
          
        
        
          π
          
            i
            j
          
        
        
          ∂
          
            j
          
        
        g
        .
      
    
    {\displaystyle (f,g):=f{\stackrel {\leftarrow }{\partial }}_{i}\pi ^{ij}\partial _{j}g.}
  a hamiltonian vector field 
  
    
      
        
          x
          
            f
          
        
      
    
    {\displaystyle x_{f}}
    with hamiltonian f can be defined as

  
    
      
        
          x
          
            f
          
        
        [
        g
        ]
        :=
        (
        f
        ,
        g
        )
        .
      
    
    {\displaystyle x_{f}[g]:=(f,g).}
  the (super-)divergence of a vector field 
  
    
      
        x
        =
        
          x
          
            i
          
        
        
          ∂
          
            i
          
        
      
    
    {\displaystyle x=x^{i}\partial _{i}}
   is defined as

  
    
      
        
          
            
              d
              i
              v
            
          
          
            ρ
          
        
        x
        :=
        
          
            
              (
              −
              1
              
                )
                
                  
                    |
                    
                      x
                      
                        i
                      
                    
                    |
                  
                  (
                  
                    |
                  
                  x
                  
                    |
                  
                  +
                  1
                  )
                
              
            
            ρ
          
        
        
          ∂
          
            i
          
        
        (
        ρ
        
          x
          
            i
          
        
        )
      
    
    {\displaystyle {\rm {div}}_{\rho }x:={\frac {(-1)^{\left|x^{i}\right|(|x|+1)}}{\rho }}\partial _{i}(\rho x^{i})}
  recall that hamiltonian vector fields are divergencefree in even poisson geometry because of liouville's theorem. 
in odd poisson geometry the corresponding statement does not hold. the odd laplacian 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   measures the failure of liouville's theorem. up to a sign factor, it is defined as one half the divergence of the corresponding hamiltonian vector field,  

  
    
      
        
          
            δ
          
          
            ρ
          
        
        (
        f
        )
        :=
        
          
            
              (
              −
              1
              
                )
                
                  
                    |
                    f
                    |
                  
                
              
            
            2
          
        
        
          
            
              d
              i
              v
            
          
          
            ρ
          
        
        
          x
          
            f
          
        
        =
        
          
            
              (
              −
              1
              
                )
                
                  
                    |
                    
                      x
                      
                        i
                      
                    
                    |
                  
                
              
            
            
              2
              ρ
            
          
        
        
          ∂
          
            i
          
        
        ρ
        
          π
          
            i
            j
          
        
        
          ∂
          
            j
          
        
        f
        .
      
    
    {\displaystyle {\delta }_{\rho }(f):={\frac {(-1)^{\left|f\right|}}{2}}{\rm {div}}_{\rho }x_{f}={\frac {(-1)^{\left|x^{i}\right|}}{2\rho }}\partial _{i}\rho \pi ^{ij}\partial _{j}f.}
  the odd poisson structure 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   and berezin volume density 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
   are said to be compatible if the modular vector field 
  
    
      
        
          
            δ
          
          
            ρ
          
          
            2
          
        
      
    
    {\displaystyle {\delta }_{\rho }^{2}}
   vanishes. in that case the odd laplacian 
  
    
      
        
          
            δ
          
          
            ρ
          
        
      
    
    {\displaystyle {\delta }_{\rho }}
   is a bv δ operator with normalization δ(1)=0. the corresponding bv algebra is the algebra of functions.


== odd symplectic manifold ==
if the odd poisson bi-vector 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   is invertible, one has an odd symplectic manifold. in that case, there exists an odd darboux theorem. that is, there exist local darboux coordinates, i.e., coordinates  
  
    
      
        
          q
          
            1
          
        
        ,
        …
        ,
        
          q
          
            n
          
        
      
    
    {\displaystyle q^{1},\ldots ,q^{n}}
  , and momenta 
  
    
      
        
          p
          
            1
          
        
        ,
        …
        ,
        
          p
          
            n
          
        
      
    
    {\displaystyle p_{1},\ldots ,p_{n}}
  , of degree

  
    
      
        
          |
          
            q
            
              i
            
          
          |
        
        +
        
          |
          
            p
            
              i
            
          
          |
        
        =
        1
        ,
      
    
    {\displaystyle \left|q^{i}\right|+\left|p_{i}\right|=1,}
  such that the odd poisson bracket is on darboux form

  
    
      
        (
        
          q
          
            i
          
        
        ,
        
          p
          
            j
          
        
        )
        =
        
          δ
          
            j
          
          
            i
          
        
        .
      
    
    {\displaystyle (q^{i},p_{j})=\delta _{j}^{i}.}
  in theoretical physics, the coordinates 
  
    
      
        
          q
          
            i
          
        
      
    
    {\displaystyle q^{i}}
   and momenta 
  
    
      
        
          p
          
            j
          
        
      
    
    {\displaystyle p_{j}}
   are called fields and antifields, and are typically denoted 
  
    
      
        
          ϕ
          
            i
          
        
      
    
    {\displaystyle \phi ^{i}}
   and 
  
    
      
        
          ϕ
          
            j
          
          
            ∗
          
        
      
    
    {\displaystyle \phi _{j}^{*}}
  , respectively.

  
    
      
        
          δ
          
            π
          
        
        :=
        (
        −
        1
        
          )
          
            
              |
              
                q
                
                  i
                
              
              |
            
          
        
        
          
            ∂
            
              ∂
              
                q
                
                  i
                
              
            
          
        
        
          
            ∂
            
              ∂
              
                p
                
                  i
                
              
            
          
        
      
    
    {\displaystyle \delta _{\pi }:=(-1)^{\left|q^{i}\right|}{\frac {\partial }{\partial q^{i}}}{\frac {\partial }{\partial p_{i}}}}
  acts on the vector space of semidensities, and is a globally well-defined operator on the atlas of darboux neighborhoods. khudaverdian's 
  
    
      
        
          δ
          
            π
          
        
      
    
    {\displaystyle \delta _{\pi }}
   operator depends only on the p-structure. it is manifestly nilpotent 
  
    
      
        
          δ
          
            π
          
          
            2
          
        
        =
        0
      
    
    {\displaystyle \delta _{\pi }^{2}=0}
  , and of degree −1. nevertheless, it is technically not a bv δ operator as the vector space of semidensities has no multiplication. (the product of two semidensities is a density rather than a semidensity.) given a fixed density 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
  , one may construct a nilpotent bv δ operator as

  
    
      
        δ
        (
        f
        )
        :=
        
          
            1
            
              ρ
            
          
        
        
          δ
          
            π
          
        
        (
        
          
            ρ
          
        
        f
        )
        ,
      
    
    {\displaystyle \delta (f):={\frac {1}{\sqrt {\rho }}}\delta _{\pi }({\sqrt {\rho }}f),}
  whose corresponding bv algebra is the algebra of functions, or equivalently, scalars. the odd symplectic structure 
  
    
      
        
          π
          
            i
            j
          
        
      
    
    {\displaystyle \pi ^{ij}}
   and density 
  
    
      
        ρ
      
    
    {\displaystyle \rho }
   are compatible if and only if δ(1) is an odd constant.


== examples ==
the schouten–nijenhuis bracket for multi-vector fields is an example of an antibracket.
if l is a lie superalgebra, and π is the operator exchanging the even and odd parts of a super space, then the symmetric algebra of π(l) (the "exterior algebra" of l) is a batalin–vilkovisky algebra with δ given by the usual differential used to compute lie algebra cohomology.


== see also ==
brst quantization
gerstenhaber algebra
supermanifold
analysis of flows
poisson manifold


== references ==


=== pedagogical ===
costello, k. (2011). "renormalization and effective field theory". isbn 978-0-8218-5288-0 (explains perturbative quantum field theory and the rigorous aspects, such as quantizing chern-simons theory and yang-mills theory using bv-formalism)


=== references ===
batalin, i. a. & vilkovisky, g. a. (1981). "gauge algebra and quantization". phys. lett. b. 102 (1): 27–31. bibcode:1981phlb..102...27b. doi:10.1016/0370-2693(81)90205-7.
batalin, i. a.; vilkovisky, g. a. (1983). "quantization of gauge theories with linearly dependent generators". physical review d. 28 (10): 2567–2582. bibcode:1983phrvd..28.2567b. doi:10.1103/physrevd.28.2567. erratum-ibid. 30 (1984) 508 doi:10.1103/physrevd.30.508.
getzler, e. (1994). "batalin-vilkovisky algebras and two-dimensional topological field theories". communications in mathematical physics. 159 (2): 265–285. arxiv:hep-th/9212043. bibcode:1994cmaph.159..265g. doi:10.1007/bf02102639.
brandt, friedemann; barnich, glenn; henneaux, marc (2000), "local brst cohomology in gauge theories", physics reports, 338 (5): 439–569, arxiv:hep-th/0002245, bibcode:2000phr...338..439b, doi:10.1016/s0370-1573(00)00049-1, issn 0370-1573, mr 1792979
weinberg, steven (2005). the quantum theory of fields vol. ii. new york: cambridge univ. press. isbn 0-521-67054-3.