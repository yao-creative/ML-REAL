in mathematics, the haar wavelet is a sequence of rescaled "square-shaped" functions which together form a wavelet family or basis. wavelet analysis is similar to fourier analysis in that it allows a target function over an interval to be represented in terms of an orthonormal basis. the haar sequence is now recognised as the first known wavelet basis and extensively used as a teaching example.
the haar sequence was proposed in 1909 by alfréd haar. 
haar used these functions to give an example of an orthonormal system for the space of square-integrable functions on the unit interval [0, 1].  the study of wavelets, and even the term "wavelet", did not come until much later. as a special case of the daubechies wavelet, the haar wavelet is also known as db1.
the haar wavelet is also the simplest possible wavelet. the technical disadvantage of the haar wavelet is that it is not continuous, and therefore not differentiable. this property can, however, be an advantage for the analysis of signals with sudden transitions (discrete signals), such as monitoring of tool failure in machines.the haar wavelet's mother wavelet function 
  
    
      
        ψ
        (
        t
        )
      
    
    {\displaystyle \psi (t)}
   can be described as

  
    
      
        ψ
        (
        t
        )
        =
        
          
            {
            
              
                
                  1
                  
                
                
                  0
                  ≤
                  t
                  <
                  
                    
                      1
                      2
                    
                  
                  ,
                
              
              
                
                  −
                  1
                
                
                  
                    
                      1
                      2
                    
                  
                  ≤
                  t
                  <
                  1
                  ,
                
              
              
                
                  0
                
                
                  
                    
                      otherwise.
                    
                  
                
              
            
            
          
        
      
    
    {\displaystyle \psi (t)={\begin{cases}1\quad &0\leq t<{\frac {1}{2}},\\-1&{\frac {1}{2}}\leq t<1,\\0&{\mbox{otherwise.}}\end{cases}}}
  its scaling function 
  
    
      
        φ
        (
        t
        )
      
    
    {\displaystyle \varphi (t)}
   can be described as

  
    
      
        φ
        (
        t
        )
        =
        
          
            {
            
              
                
                  1
                  
                
                
                  0
                  ≤
                  t
                  <
                  1
                  ,
                
              
              
                
                  0
                
                
                  
                    
                      otherwise.
                    
                  
                
              
            
            
          
        
      
    
    {\displaystyle \varphi (t)={\begin{cases}1\quad &0\leq t<1,\\0&{\mbox{otherwise.}}\end{cases}}}
  


== haar functions and haar system ==
for every pair n, k of integers in 
  
    
      
        
          z
        
      
    
    {\displaystyle \mathbb {z} }
  , the haar function ψn,k is defined on the real line 
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
   by the formula

  
    
      
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        )
        =
        
          2
          
            n
            
              /
            
            2
          
        
        ψ
        (
        
          2
          
            n
          
        
        t
        −
        k
        )
        ,
        
        t
        ∈
        
          r
        
        .
      
    
    {\displaystyle \psi _{n,k}(t)=2^{n/2}\psi (2^{n}t-k),\quad t\in \mathbb {r} .}
  this function is supported on the right-open interval  in,k = [ k2−n, (k+1)2−n), i.e., it vanishes outside that interval. it has integral 0 and norm 1 in the hilbert space l2(
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
  ),

  
    
      
        
          ∫
          
            
              r
            
          
        
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        )
        
        d
        t
        =
        0
        ,
        
        ‖
        
          ψ
          
            n
            ,
            k
          
        
        
          ‖
          
            
              l
              
                2
              
            
            (
            
              r
            
            )
          
          
            2
          
        
        =
        
          ∫
          
            
              r
            
          
        
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        
          )
          
            2
          
        
        
        d
        t
        =
        1.
      
    
    {\displaystyle \int _{\mathbb {r} }\psi _{n,k}(t)\,dt=0,\quad \|\psi _{n,k}\|_{l^{2}(\mathbb {r} )}^{2}=\int _{\mathbb {r} }\psi _{n,k}(t)^{2}\,dt=1.}
  the haar functions are pairwise orthogonal,

  
    
      
        
          ∫
          
            
              r
            
          
        
        
          ψ
          
            
              n
              
                1
              
            
            ,
            
              k
              
                1
              
            
          
        
        (
        t
        )
        
          ψ
          
            
              n
              
                2
              
            
            ,
            
              k
              
                2
              
            
          
        
        (
        t
        )
        
        d
        t
        =
        
          δ
          
            
              n
              
                1
              
            
            
              n
              
                2
              
            
          
        
        
          δ
          
            
              k
              
                1
              
            
            
              k
              
                2
              
            
          
        
        ,
      
    
    {\displaystyle \int _{\mathbb {r} }\psi _{n_{1},k_{1}}(t)\psi _{n_{2},k_{2}}(t)\,dt=\delta _{n_{1}n_{2}}\delta _{k_{1}k_{2}},}
  where 
  
    
      
        
          δ
          
            i
            j
          
        
      
    
    {\displaystyle \delta _{ij}}
   represents the kronecker delta. here is the reason for orthogonality: when the two supporting intervals 
  
    
      
        
          i
          
            
              n
              
                1
              
            
            ,
            
              k
              
                1
              
            
          
        
      
    
    {\displaystyle i_{n_{1},k_{1}}}
   and 
  
    
      
        
          i
          
            
              n
              
                2
              
            
            ,
            
              k
              
                2
              
            
          
        
      
    
    {\displaystyle i_{n_{2},k_{2}}}
   are not equal, then they are either disjoint, or else the smaller of the two supports, say 
  
    
      
        
          i
          
            
              n
              
                1
              
            
            ,
            
              k
              
                1
              
            
          
        
      
    
    {\displaystyle i_{n_{1},k_{1}}}
  , is contained in the lower or in the upper half of the other interval, on which the function 
  
    
      
        
          ψ
          
            
              n
              
                2
              
            
            ,
            
              k
              
                2
              
            
          
        
      
    
    {\displaystyle \psi _{n_{2},k_{2}}}
   remains constant. it follows in this case that the product of these two haar functions is a multiple of the first haar function, hence the product has integral 0.
the haar system on the real line is the set of functions

  
    
      
        {
        1
        }
        ∪
        {
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        )
        
        :
        
        n
        ∈
        
          z
        
        ,
        
        k
        ∈
        
          z
        
        }
        .
      
    
    {\displaystyle \{1\}\cup \{\psi _{n,k}(t)\;:\;n\in \mathbb {z} ,\;k\in \mathbb {z} \}.}
  it is complete in l2(
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
  ): the haar system on the line is an orthonormal basis in l2(
  
    
      
        
          r
        
      
    
    {\displaystyle \mathbb {r} }
  ).


== haar wavelet properties ==
the haar wavelet has several notable properties:

any continuous real function with compact support can be approximated uniformly by linear combinations of 
  
    
      
        φ
        (
        t
        )
        ,
        φ
        (
        2
        t
        )
        ,
        φ
        (
        4
        t
        )
        ,
        …
        ,
        φ
        (
        
          2
          
            n
          
        
        t
        )
        ,
        …
      
    
    {\displaystyle \varphi (t),\varphi (2t),\varphi (4t),\dots ,\varphi (2^{n}t),\dots }
   and their shifted functions. this extends to those function spaces where any function therein can be approximated by continuous functions.
any continuous real function on [0, 1] can be approximated uniformly on [0, 1] by linear combinations of the constant function 1, 
  
    
      
        ψ
        (
        t
        )
        ,
        ψ
        (
        2
        t
        )
        ,
        ψ
        (
        4
        t
        )
        ,
        …
        ,
        ψ
        (
        
          2
          
            n
          
        
        t
        )
        ,
        …
      
    
    {\displaystyle \psi (t),\psi (2t),\psi (4t),\dots ,\psi (2^{n}t),\dots }
   and their shifted functions.
orthogonality in the form    
  
    
      
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          2
          
            (
            n
            +
            
              n
              
                1
              
            
            )
            
              /
            
            2
          
        
        ψ
        (
        
          2
          
            n
          
        
        t
        −
        k
        )
        ψ
        (
        
          2
          
            
              n
              
                1
              
            
          
        
        t
        −
        
          k
          
            1
          
        
        )
        
        d
        t
        =
        
          δ
          
            n
            
              n
              
                1
              
            
          
        
        
          δ
          
            k
            
              k
              
                1
              
            
          
        
        .
      
    
    {\displaystyle \int _{-\infty }^{\infty }2^{(n+n_{1})/2}\psi (2^{n}t-k)\psi (2^{n_{1}}t-k_{1})\,dt=\delta _{nn_{1}}\delta _{kk_{1}}.}
  
here, 
  
    
      
        
          δ
          
            i
            j
          
        
      
    
    {\displaystyle \delta _{ij}}
   represents the kronecker delta. the dual function of ψ(t) is ψ(t) itself.

wavelet/scaling functions with different scale n have a functional relationship: since
  
    
      
        
          
            
              
                φ
                (
                t
                )
              
              
                
                =
                φ
                (
                2
                t
                )
                +
                φ
                (
                2
                t
                −
                1
                )
              
            
            
              
                ψ
                (
                t
                )
              
              
                
                =
                φ
                (
                2
                t
                )
                −
                φ
                (
                2
                t
                −
                1
                )
                ,
              
            
          
        
      
    
    {\displaystyle {\begin{aligned}\varphi (t)&=\varphi (2t)+\varphi (2t-1)\\[.2em]\psi (t)&=\varphi (2t)-\varphi (2t-1),\end{aligned}}}
  
it follows that coefficients of scale n can be calculated by coefficients of scale n+1:
if 
  
    
      
        
          χ
          
            w
          
        
        (
        k
        ,
        n
        )
        =
        
          2
          
            n
            
              /
            
            2
          
        
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        x
        (
        t
        )
        φ
        (
        
          2
          
            n
          
        
        t
        −
        k
        )
        
        d
        t
      
    
    {\displaystyle \chi _{w}(k,n)=2^{n/2}\int _{-\infty }^{\infty }x(t)\varphi (2^{n}t-k)\,dt}
  
and 
  
    
      
        
          
            x
          
          
            w
          
        
        (
        k
        ,
        n
        )
        =
        
          2
          
            n
            
              /
            
            2
          
        
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        x
        (
        t
        )
        ψ
        (
        
          2
          
            n
          
        
        t
        −
        k
        )
        
        d
        t
      
    
    {\displaystyle \mathrm {x} _{w}(k,n)=2^{n/2}\int _{-\infty }^{\infty }x(t)\psi (2^{n}t-k)\,dt}
  
then

  
    
      
        
          χ
          
            w
          
        
        (
        k
        ,
        n
        )
        =
        
          2
          
            −
            1
            
              /
            
            2
          
        
        
          
            (
          
        
        
          χ
          
            w
          
        
        (
        2
        k
        ,
        n
        +
        1
        )
        +
        
          χ
          
            w
          
        
        (
        2
        k
        +
        1
        ,
        n
        +
        1
        )
        
          
            )
          
        
      
    
    {\displaystyle \chi _{w}(k,n)=2^{-1/2}{\bigl (}\chi _{w}(2k,n+1)+\chi _{w}(2k+1,n+1){\bigr )}}
  

  
    
      
        
          
            x
          
          
            w
          
        
        (
        k
        ,
        n
        )
        =
        
          2
          
            −
            1
            
              /
            
            2
          
        
        
          
            (
          
        
        
          χ
          
            w
          
        
        (
        2
        k
        ,
        n
        +
        1
        )
        −
        
          χ
          
            w
          
        
        (
        2
        k
        +
        1
        ,
        n
        +
        1
        )
        
          
            )
          
        
        .
      
    
    {\displaystyle \mathrm {x} _{w}(k,n)=2^{-1/2}{\bigl (}\chi _{w}(2k,n+1)-\chi _{w}(2k+1,n+1){\bigr )}.}
  


== haar system on the unit interval and related systems ==
in this section, the discussion is restricted to the unit interval [0, 1] and to the haar functions that are supported on [0, 1]. the system of functions considered by haar in 1910,
called the haar system on [0, 1] in this article, consists of the subset of haar wavelets defined as

  
    
      
        {
        t
        ∈
        [
        0
        ,
        1
        ]
        ↦
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        )
        
        :
        
        n
        ∈
        
          n
        
        ∪
        {
        0
        }
        ,
        
        0
        ≤
        k
        <
        
          2
          
            n
          
        
        }
        ,
      
    
    {\displaystyle \{t\in [0,1]\mapsto \psi _{n,k}(t)\;:\;n\in \mathbb {n} \cup \{0\},\;0\leq k<2^{n}\},}
  with the addition of the constant function 1 on [0, 1].
in hilbert space terms, this haar system on [0, 1] is a complete orthonormal system, i.e., an orthonormal basis, for the space l2([0, 1]) of square integrable functions on the unit interval.
the haar system on [0, 1] —with the constant function 1 as first element, followed with the haar functions ordered according to the lexicographic ordering of couples (n, k)— is further a monotone schauder basis for the space lp([0, 1]) when 1 ≤ p < ∞. 
this basis is unconditional  when 1 < p < ∞.there is a related rademacher system consisting of sums of haar functions, 

  
    
      
        
          r
          
            n
          
        
        (
        t
        )
        =
        
          2
          
            −
            n
            
              /
            
            2
          
        
        
          ∑
          
            k
            =
            0
          
          
            
              2
              
                n
              
            
            −
            1
          
        
        
          ψ
          
            n
            ,
            k
          
        
        (
        t
        )
        ,
        
        t
        ∈
        [
        0
        ,
        1
        ]
        ,
         
        n
        ≥
        0.
      
    
    {\displaystyle r_{n}(t)=2^{-n/2}\sum _{k=0}^{2^{n}-1}\psi _{n,k}(t),\quad t\in [0,1],\ n\geq 0.}
  notice that |rn(t)| = 1 on [0, 1). this is an orthonormal system but it is not complete.
in the language of probability theory, the rademacher sequence is an instance of a sequence of independent bernoulli random variables with mean 0. the khintchine inequality expresses the fact that in all the spaces lp([0, 1]), 1 ≤ p < ∞, the rademacher sequence is equivalent to the unit vector basis in ℓ2. in particular, the closed linear span of the rademacher sequence in lp([0, 1]), 1 ≤ p < ∞, is isomorphic to ℓ2.


=== the faber–schauder system ===
the faber–schauder system 
is the family of continuous functions on [0, 1] consisting of the constant function 1, and of multiples of indefinite integrals of the functions in the haar system on [0, 1], chosen to have norm 1 in the maximum norm. this system begins with s0 = 1, then  s1(t) = t is the indefinite integral vanishing at 0 of the function 1, first element of the haar system on [0, 1].  next, for every integer n ≥ 0, functions  sn,k are defined by the formula

  
    
      
        
          s
          
            n
            ,
            k
          
        
        (
        t
        )
        =
        
          2
          
            1
            +
            n
            
              /
            
            2
          
        
        
          ∫
          
            0
          
          
            t
          
        
        
          ψ
          
            n
            ,
            k
          
        
        (
        u
        )
        
        d
        u
        ,
        
        t
        ∈
        [
        0
        ,
        1
        ]
        ,
         
        0
        ≤
        k
        <
        
          2
          
            n
          
        
        .
      
    
    {\displaystyle s_{n,k}(t)=2^{1+n/2}\int _{0}^{t}\psi _{n,k}(u)\,du,\quad t\in [0,1],\ 0\leq k<2^{n}.}
  these functions  sn,k are continuous, piecewise linear, supported by the interval  in,k that also supports  ψn,k. the function  sn,k is equal to 1 at the midpoint  xn,k of the interval  in,k, linear on both halves of that interval. it takes values between 0 and 1 everywhere.
the faber–schauder system is a schauder basis for the space c([0, 1]) of continuous functions on [0, 1]. 
for every f in c([0, 1]), the partial sum

  
    
      
        
          f
          
            n
            +
            1
          
        
        =
        
          a
          
            0
          
        
        
          s
          
            0
          
        
        +
        
          a
          
            1
          
        
        
          s
          
            1
          
        
        +
        
          ∑
          
            m
            =
            0
          
          
            n
            −
            1
          
        
        
          
            (
          
        
        
          ∑
          
            k
            =
            0
          
          
            
              2
              
                m
              
            
            −
            1
          
        
        
          a
          
            m
            ,
            k
          
        
        
          s
          
            m
            ,
            k
          
        
        
          
            )
          
        
        ∈
        c
        (
        [
        0
        ,
        1
        ]
        )
      
    
    {\displaystyle f_{n+1}=a_{0}s_{0}+a_{1}s_{1}+\sum _{m=0}^{n-1}{\bigl (}\sum _{k=0}^{2^{m}-1}a_{m,k}s_{m,k}{\bigr )}\in c([0,1])}
  of the series expansion of f in the faber–schauder system is the continuous piecewise linear function that agrees with f at the 2n + 1 points k2−n, where  0 ≤ k ≤ 2n. next, the formula

  
    
      
        
          f
          
            n
            +
            2
          
        
        −
        
          f
          
            n
            +
            1
          
        
        =
        
          ∑
          
            k
            =
            0
          
          
            
              2
              
                n
              
            
            −
            1
          
        
        
          
            (
          
        
        f
        (
        
          x
          
            n
            ,
            k
          
        
        )
        −
        
          f
          
            n
            +
            1
          
        
        (
        
          x
          
            n
            ,
            k
          
        
        )
        
          
            )
          
        
        
          s
          
            n
            ,
            k
          
        
        =
        
          ∑
          
            k
            =
            0
          
          
            
              2
              
                n
              
            
            −
            1
          
        
        
          a
          
            n
            ,
            k
          
        
        
          s
          
            n
            ,
            k
          
        
      
    
    {\displaystyle f_{n+2}-f_{n+1}=\sum _{k=0}^{2^{n}-1}{\bigl (}f(x_{n,k})-f_{n+1}(x_{n,k}){\bigr )}s_{n,k}=\sum _{k=0}^{2^{n}-1}a_{n,k}s_{n,k}}
  gives a way to compute the expansion of f step by step. since f is uniformly continuous, the sequence {fn} converges uniformly to f.  it follows that the faber–schauder series expansion of f converges in c([0, 1]), and the sum of this series is equal to f.


=== the franklin system ===
the franklin system is obtained from the faber–schauder system by the gram–schmidt orthonormalization procedure.
since the franklin system has the same linear span as that of the faber–schauder system, this span is dense in c([0, 1]), hence in l2([0, 1]). the franklin system is therefore an orthonormal basis for l2([0, 1]), consisting of continuous piecewise linear functions. p. franklin proved in 1928 that this system is a schauder basis for c([0, 1]). 
the franklin system is also an unconditional schauder basis for the space lp([0, 1]) when 1 < p < ∞.
the franklin system provides a schauder basis in the disk algebra a(d).
this was proved in 1974 by bočkarev, after the existence of a basis for the disk algebra had remained open for more than forty years.bočkarev's construction of a schauder basis in a(d) goes as follows: let f be a complex valued lipschitz function on [0, π]; then f is the sum of a cosine series with absolutely summable coefficients. let t(f) be the element of a(d) defined by the complex power series with the same coefficients,

  
    
      
        
          {
          
            f
            :
            x
            ∈
            [
            0
            ,
            π
            ]
            →
            
              ∑
              
                n
                =
                0
              
              
                ∞
              
            
            
              a
              
                n
              
            
            cos
            ⁡
            (
            n
            x
            )
          
          }
        
        ⟶
        
          {
          
            t
            (
            f
            )
            :
            z
            →
            
              ∑
              
                n
                =
                0
              
              
                ∞
              
            
            
              a
              
                n
              
            
            
              z
              
                n
              
            
            ,
            
            
              |
            
            z
            
              |
            
            ≤
            1
          
          }
        
        .
      
    
    {\displaystyle \left\{f:x\in [0,\pi ]\rightarrow \sum _{n=0}^{\infty }a_{n}\cos(nx)\right\}\longrightarrow \left\{t(f):z\rightarrow \sum _{n=0}^{\infty }a_{n}z^{n},\quad |z|\leq 1\right\}.}
  bočkarev's basis for a(d) is formed by the images under t of the functions in the franklin system on [0, π]. bočkarev's equivalent description for the mapping t starts by extending f to an even lipschitz function g1 on [−π, π], identified with a lipschitz function on the unit circle t. next, let g2 be the conjugate function of g1, and define t(f) to be the function in a(d) whose value on the boundary t of d is equal to g1 + ig2.
when dealing with 1-periodic continuous functions, or rather with continuous functions f on [0, 1] such that f(0) = f(1), one removes the function  s1(t) = t from the faber–schauder system, in order to obtain the periodic faber–schauder system. the periodic franklin system is obtained by orthonormalization from the periodic faber–-schauder system.
one can prove bočkarev's result on a(d) by proving that the periodic franklin system on [0, 2π] is a basis for a banach space ar isomorphic to a(d). 
the space ar consists of complex continuous functions on the unit circle t whose conjugate function is also continuous.


== haar matrix ==
the 2×2 haar matrix that is associated with the haar wavelet is

  
    
      
        
          h
          
            2
          
        
        =
        
          
            [
            
              
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  −
                  1
                
              
            
            ]
          
        
        .
      
    
    {\displaystyle h_{2}={\begin{bmatrix}1&1\\1&-1\end{bmatrix}}.}
  using the discrete wavelet transform, one can transform any sequence 
  
    
      
        (
        
          a
          
            0
          
        
        ,
        
          a
          
            1
          
        
        ,
        …
        ,
        
          a
          
            2
            n
          
        
        ,
        
          a
          
            2
            n
            +
            1
          
        
        )
      
    
    {\displaystyle (a_{0},a_{1},\dots ,a_{2n},a_{2n+1})}
   of even length into a sequence of two-component-vectors 
  
    
      
        
          (
          
            
              (
              
                
                  a
                  
                    0
                  
                
                ,
                
                  a
                  
                    1
                  
                
              
              )
            
            ,
            …
            ,
            
              (
              
                
                  a
                  
                    2
                    n
                  
                
                ,
                
                  a
                  
                    2
                    n
                    +
                    1
                  
                
              
              )
            
          
          )
        
      
    
    {\displaystyle \left(\left(a_{0},a_{1}\right),\dots ,\left(a_{2n},a_{2n+1}\right)\right)}
  . if one right-multiplies each vector with the matrix 
  
    
      
        
          h
          
            2
          
        
      
    
    {\displaystyle h_{2}}
  , one gets the result 
  
    
      
        
          (
          
            
              (
              
                
                  s
                  
                    0
                  
                
                ,
                
                  d
                  
                    0
                  
                
              
              )
            
            ,
            …
            ,
            
              (
              
                
                  s
                  
                    n
                  
                
                ,
                
                  d
                  
                    n
                  
                
              
              )
            
          
          )
        
      
    
    {\displaystyle \left(\left(s_{0},d_{0}\right),\dots ,\left(s_{n},d_{n}\right)\right)}
   of one stage of the fast haar-wavelet transform. usually one separates the sequences s and d and continues with transforming the sequence s. sequence s is often referred to as the averages part, whereas d is known as the details part.if one has a sequence of length a multiple of four, one can build blocks of 4 elements and transform them in a similar manner with the 4×4 haar matrix

  
    
      
        
          h
          
            4
          
        
        =
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  1
                
                
                  −
                  1
                
              
            
            ]
          
        
        ,
      
    
    {\displaystyle h_{4}={\begin{bmatrix}1&1&1&1\\1&1&-1&-1\\1&-1&0&0\\0&0&1&-1\end{bmatrix}},}
  which combines two stages of the fast haar-wavelet transform.
compare with a walsh matrix, which is a non-localized 1/–1 matrix.
generally, the 2n×2n haar matrix can be derived by the following equation.

  
    
      
        
          h
          
            2
            n
          
        
        =
        
          
            [
            
              
                
                  
                    h
                    
                      n
                    
                  
                  ⊗
                  [
                  1
                  ,
                  1
                  ]
                
              
              
                
                  
                    i
                    
                      n
                    
                  
                  ⊗
                  [
                  1
                  ,
                  −
                  1
                  ]
                
              
            
            ]
          
        
      
    
    {\displaystyle h_{2n}={\begin{bmatrix}h_{n}\otimes [1,1]\\i_{n}\otimes [1,-1]\end{bmatrix}}}
  
where 
  
    
      
        
          i
          
            n
          
        
        =
        
          
            [
            
              
                
                  1
                
                
                  0
                
                
                  …
                
                
                  0
                
              
              
                
                  0
                
                
                  1
                
                
                  …
                
                
                  0
                
              
              
                
                  ⋮
                
                
                  ⋮
                
                
                  ⋱
                
                
                  ⋮
                
              
              
                
                  0
                
                
                  0
                
                
                  …
                
                
                  1
                
              
            
            ]
          
        
      
    
    {\displaystyle i_{n}={\begin{bmatrix}1&0&\dots &0\\0&1&\dots &0\\\vdots &\vdots &\ddots &\vdots \\0&0&\dots &1\end{bmatrix}}}
   and 
  
    
      
        ⊗
      
    
    {\displaystyle \otimes }
   is the kronecker product.the kronecker product of 
  
    
      
        a
        ⊗
        b
      
    
    {\displaystyle a\otimes b}
  , where 
  
    
      
        a
      
    
    {\displaystyle a}
   is an m×n matrix and 
  
    
      
        b
      
    
    {\displaystyle b}
   is a p×q matrix, is expressed as

  
    
      
        a
        ⊗
        b
        =
        
          
            [
            
              
                
                  
                    a
                    
                      11
                    
                  
                  b
                
                
                  …
                
                
                  
                    a
                    
                      1
                      n
                    
                  
                  b
                
              
              
                
                  ⋮
                
                
                  ⋱
                
                
                  ⋮
                
              
              
                
                  
                    a
                    
                      m
                      1
                    
                  
                  b
                
                
                  …
                
                
                  
                    a
                    
                      m
                      n
                    
                  
                  b
                
              
            
            ]
          
        
        .
      
    
    {\displaystyle a\otimes b={\begin{bmatrix}a_{11}b&\dots &a_{1n}b\\\vdots &\ddots &\vdots \\a_{m1}b&\dots &a_{mn}b\end{bmatrix}}.}
  an un-normalized 8-point haar matrix 
  
    
      
        
          h
          
            8
          
        
      
    
    {\displaystyle h_{8}}
   is shown below

  
    
      
        
          h
          
            8
          
        
        =
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
              
              
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
              
              
                
                  0
                
                
                  0
                
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  0
                
                
              
              
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  0
                
                
                  1
                
                
                  −
                  1
                
              
            
            ]
          
        
        .
      
    
    {\displaystyle h_{8}={\begin{bmatrix}1&1&1&1&1&1&1&1\\1&1&1&1&-1&-1&-1&-1\\1&1&-1&-1&0&0&0&0&\\0&0&0&0&1&1&-1&-1\\1&-1&0&0&0&0&0&0&\\0&0&1&-1&0&0&0&0\\0&0&0&0&1&-1&0&0&\\0&0&0&0&0&0&1&-1\end{bmatrix}}.}
  note that, the above matrix is an un-normalized haar matrix. the haar matrix required by the haar transform should be normalized.
from the definition of the haar matrix 
  
    
      
        h
      
    
    {\displaystyle h}
  , one can observe that, unlike the fourier transform, 
  
    
      
        h
      
    
    {\displaystyle h}
   has only real elements (i.e., 1, -1 or 0) and is non-symmetric.
take the 8-point haar matrix 
  
    
      
        
          h
          
            8
          
        
      
    
    {\displaystyle h_{8}}
   as an example. the first row of 
  
    
      
        
          h
          
            8
          
        
      
    
    {\displaystyle h_{8}}
   measures the average value, and the second row of 
  
    
      
        
          h
          
            8
          
        
      
    
    {\displaystyle h_{8}}
   measures a low frequency component of the input vector. the next two rows are sensitive to the first and second half of the input vector respectively, which corresponds to moderate frequency components. the remaining four rows are sensitive to the four section of the input vector, which corresponds to high frequency components.


== haar transform ==
the haar transform is the simplest of the wavelet transforms. this transform cross-multiplies a function against the haar wavelet with various shifts and stretches, like the fourier transform cross-multiplies a function against a sine wave with two phases and many stretches.


=== introduction ===
the haar transform is one of the oldest transform functions, proposed in 1910 by the hungarian mathematician alfréd haar. it is found effective in applications such as signal and image compression in electrical and computer engineering as it provides a simple and computationally efficient approach for analysing the local aspects of a signal.
the haar transform is derived from the haar matrix. an example of a 4x4 haar transformation matrix is shown below.

  
    
      
        
          h
          
            4
          
        
        =
        
          
            1
            2
          
        
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
      
    
    {\displaystyle h_{4}={\frac {1}{2}}{\begin{bmatrix}1&1&1&1\\1&1&-1&-1\\{\sqrt {2}}&-{\sqrt {2}}&0&0\\0&0&{\sqrt {2}}&-{\sqrt {2}}\end{bmatrix}}}
  the haar transform can be thought of as a sampling process in which rows of the transformation matrix act as samples of finer and finer resolution.
compare with the walsh transform, which is also 1/–1, but is non-localized.


=== property ===
the haar transform has the following properties

1. no need for multiplications. it requires only additions and there are many elements with zero value in the haar matrix, so the computation time is short. it is faster than walsh transform, whose matrix is composed of +1 and −1.
2. input and output length are the same. however, the length should be a power of 2, i.e. 
  
    
      
        n
        =
        
          2
          
            k
          
        
        ,
        k
        ∈
        
          n
        
      
    
    {\displaystyle n=2^{k},k\in \mathbb {n} }
  .
3. it can be used to analyse the localized feature of signals. due to the orthogonal property of the haar function, the frequency components of input signal can be analyzed.


=== haar transform and inverse haar transform ===
the haar transform yn of an n-input function xn is

  
    
      
        
          y
          
            n
          
        
        =
        
          h
          
            n
          
        
        
          x
          
            n
          
        
      
    
    {\displaystyle y_{n}=h_{n}x_{n}}
  the haar transform matrix is real and orthogonal. thus, the inverse haar transform can be derived by the following equations.

  
    
      
        h
        =
        
          h
          
            ∗
          
        
        ,
        
          h
          
            −
            1
          
        
        =
        
          h
          
            t
          
        
        ,
        
           i.e. 
        
        h
        
          h
          
            t
          
        
        =
        i
      
    
    {\displaystyle h=h^{*},h^{-1}=h^{t},{\text{ i.e. }}hh^{t}=i}
  where 
  
    
      
        i
      
    
    {\displaystyle i}
   is the identity matrix. for example, when n = 4
  
    
      
        
          h
          
            4
          
          
            t
          
        
        
          h
          
            4
          
        
        =
        
          
            1
            2
          
        
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  
                    
                      2
                    
                  
                
                
                  0
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  
                    
                      2
                    
                  
                
                
                  0
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  
                    
                      2
                    
                  
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  −
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
        ⋅
        
        
          
            1
            2
          
        
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
        =
        
          
            [
            
              
                
                  1
                
                
                  0
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  1
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  1
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  0
                
                
                  1
                
              
            
            ]
          
        
      
    
    {\displaystyle h_{4}^{t}h_{4}={\frac {1}{2}}{\begin{bmatrix}1&1&{\sqrt {2}}&0\\1&1&-{\sqrt {2}}&0\\1&-1&0&{\sqrt {2}}\\1&-1&0&-{\sqrt {2}}\end{bmatrix}}\cdot \;{\frac {1}{2}}{\begin{bmatrix}1&1&1&1\\1&1&-1&-1\\{\sqrt {2}}&-{\sqrt {2}}&0&0\\0&0&{\sqrt {2}}&-{\sqrt {2}}\end{bmatrix}}={\begin{bmatrix}1&0&0&0\\0&1&0&0\\0&0&1&0\\0&0&0&1\end{bmatrix}}}
  thus, the inverse haar transform is

  
    
      
        
          x
          
            n
          
        
        =
        
          h
          
            t
          
        
        
          y
          
            n
          
        
      
    
    {\displaystyle x_{n}=h^{t}y_{n}}
  


=== example ===
the haar transform coefficients of a n=4-point signal 
  
    
      
        
          x
          
            4
          
        
        =
        [
        1
        ,
        2
        ,
        3
        ,
        4
        
          ]
          
            t
          
        
      
    
    {\displaystyle x_{4}=[1,2,3,4]^{t}}
   can be found as

  
    
      
        
          y
          
            4
          
        
        =
        
          h
          
            4
          
        
        
          x
          
            4
          
        
        =
        
          
            1
            2
          
        
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  1
                
                
                  1
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  1
                
                
                  −
                  1
                
              
              
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
                
                  0
                
                
                  0
                
              
              
                
                  0
                
                
                  0
                
                
                  
                    
                      2
                    
                  
                
                
                  −
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
        
          
            [
            
              
                
                  1
                
              
              
                
                  2
                
              
              
                
                  3
                
              
              
                
                  4
                
              
            
            ]
          
        
        =
        
          
            [
            
              
                
                  5
                
              
              
                
                  −
                  2
                
              
              
                
                  −
                  1
                  
                    /
                  
                  
                    
                      2
                    
                  
                
              
              
                
                  −
                  1
                  
                    /
                  
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
      
    
    {\displaystyle y_{4}=h_{4}x_{4}={\frac {1}{2}}{\begin{bmatrix}1&1&1&1\\1&1&-1&-1\\{\sqrt {2}}&-{\sqrt {2}}&0&0\\0&0&{\sqrt {2}}&-{\sqrt {2}}\end{bmatrix}}{\begin{bmatrix}1\\2\\3\\4\end{bmatrix}}={\begin{bmatrix}5\\-2\\-1/{\sqrt {2}}\\-1/{\sqrt {2}}\end{bmatrix}}}
  the input signal can then be perfectly reconstructed by the inverse haar transform

  
    
      
        
          
            
              
                x
                
                  4
                
              
              ^
            
          
        
        =
        
          h
          
            4
          
          
            t
          
        
        
          y
          
            4
          
        
        =
        
          
            1
            2
          
        
        
          
            [
            
              
                
                  1
                
                
                  1
                
                
                  
                    
                      2
                    
                  
                
                
                  0
                
              
              
                
                  1
                
                
                  1
                
                
                  −
                  
                    
                      2
                    
                  
                
                
                  0
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  
                    
                      2
                    
                  
                
              
              
                
                  1
                
                
                  −
                  1
                
                
                  0
                
                
                  −
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
        
          
            [
            
              
                
                  5
                
              
              
                
                  −
                  2
                
              
              
                
                  −
                  1
                  
                    /
                  
                  
                    
                      2
                    
                  
                
              
              
                
                  −
                  1
                  
                    /
                  
                  
                    
                      2
                    
                  
                
              
            
            ]
          
        
        =
        
          
            [
            
              
                
                  1
                
              
              
                
                  2
                
              
              
                
                  3
                
              
              
                
                  4
                
              
            
            ]
          
        
      
    
    {\displaystyle {\hat {x_{4}}}=h_{4}^{t}y_{4}={\frac {1}{2}}{\begin{bmatrix}1&1&{\sqrt {2}}&0\\1&1&-{\sqrt {2}}&0\\1&-1&0&{\sqrt {2}}\\1&-1&0&-{\sqrt {2}}\end{bmatrix}}{\begin{bmatrix}5\\-2\\-1/{\sqrt {2}}\\-1/{\sqrt {2}}\end{bmatrix}}={\begin{bmatrix}1\\2\\3\\4\end{bmatrix}}}
  


== see also ==
dimension reduction
walsh matrix
walsh transform
wavelet
chirplet
signal
haar-like feature
strömberg wavelet
dyadic transformation


== notes ==


== references ==
haar, alfréd (1910), "zur theorie der orthogonalen funktionensysteme", mathematische annalen, 69 (3): 331–371, doi:10.1007/bf01456326, hdl:2027/uc1.b2619563
charles k. chui, an introduction to wavelets, (1992), academic press, san diego, isbn 0-585-47090-1
english translation of haar's seminal article: https://www.uni-hohenheim.de/~gzim/publications/haar.pdf


== external links ==
"haar system", encyclopedia of mathematics, ems press, 2001 [1994]
free haar wavelet filtering implementation and interactive demo
free haar wavelet denoising and lossy signal compression


=== haar transform ===
[1]
[2]
[3]
[4]
[5] archived 21 august 2012 at the wayback machine